import{L as H}from"./Label-f581e85c.js";import{P as S}from"./PaginatorLinks-59422e18.js";import{K as x,r as L,o as r,c as a,b as s,F as u,f,j as m,x as p,t as g,q as k,y as _,g as h,a as b,n as D,k as F}from"./app-22ccba04.js";import{_ as T}from"./_plugin-vue_export-helper-c27b6911.js";const C={components:{PaginatorLinks:S,Label:H},computed:{request(){var o,t,l;return((t=(o=x().props)==null?void 0:o.value)==null?void 0:t.request)||((l=x().props)==null?void 0:l.request)||{}}},props:{dateFilter:{type:Boolean,default:!1},serialColumn:{type:Boolean,default:!0},latest:{type:Boolean,default:!1},routeName:{type:String,default:null},topLinks:{type:Boolean,default:!1},bottomLinks:{type:Boolean,default:!0},pageLength:{type:Array,default:[100,50,25,15,10]},varientDateFilter:{type:Object,default:{7:"Last 7 days",15:"Last 15 days",30:"Last 30 days",90:"Last 90 days",180:"Last 180 days",365:"Last 365 days"}},collections:{type:Object,default:{}},filters:{type:Object,default:{}},columns:{type:Array,default:[]}},created(){Object.entries(this.filters).forEach(([o,t])=>{this.filterData[o]=this.request[o]||""}),this.dateFrom=this.request.from||"",this.dateTo=this.request.to||"",this.search=this.request.search||"",this.sortNewToOld=this.request.order=="desc"?!0:this.latest,localStorage.setItem("historyOfList",this.route(this.routeName||this.route().current()))},data(){return{perpage:this.collections.meta.per_page,search:"",filterData:{},data:{},dateFrom:"",dateTo:"",valueDateFilter:"",sortDirection:"",sort:""}},methods:{searchHandler(){this.data.perpage=this.perpage,Object.entries(this.filterData).forEach(([t,l])=>{this.data[t]=l}),this.data.from=this.dateFrom,this.data.to=this.dateTo,this.data.sort=this.sort,this.data.order=this.sortDirection,this.data.search=this.search;let o=this.route(this.routeName||this.route().current(),this.clean(this.data));localStorage.setItem("historyOfList",o),this.$inertia.get(o,{},{preserveState:!0})},dateSearchHandler(o){const t=parseInt(o.target.value),l=new Date,w=new Date(l.getTime()-t*24*60*60*1e3);t?(this.dateFrom=`${w.getFullYear()}-${(w.getMonth()+1).toString().padStart(2,"0")}-${w.getDate().toString().padStart(2,"0")}`,this.dateTo=`${l.getFullYear()}-${(l.getMonth()+1).toString().padStart(2,"0")}-${l.getDate().toString().padStart(2,"0")}`):(this.dateFrom="",this.dateTo=""),this.searchHandler()},clean(o){for(var t in o)(o[t]===""||o[t]===null||o[t]===void 0)&&delete o[t];return o},sortHandler(o){this.sortDirection=this.sort==o&&this.sortDirection=="asc"?"desc":"asc",this.sort=o,this.sortNewToOld=this.sortDirection=="desc",this.searchHandler()},sortDirectionHandler(){this.sortDirection=this.sortDirection=="asc"?"desc":"asc",this.sortNewToOld=this.sortDirection=="desc",this.searchHandler()}}},O={class:"flex w-full flex-wrap gap-2 py-2"},B=["onUpdate:modelValue","name"],V={value:"",selected:""},q=["value"],M={key:0,class:"order-1 ml-auto flex w-full flex-col items-end justify-between gap-2 sm:flex-row lg:order-2 lg:w-auto lg:max-w-xl"},N={class:"flex w-full max-w-sm items-center justify-end gap-1"},U=s("option",{value:""},"Custom Date",-1),j=["value"],A={class:"flex w-full max-w-sm items-center justify-end gap-1"},I=["max"],E={class:"flex w-full max-w-sm items-center justify-end gap-1"},z=["min"],P={class:"order-2 flex sm:w-24 lg:order-1"},Y=["value"],K={class:"order-4 ml-auto flex w-2/3 max-w-xs lg:order-4 lg:w-auto"},G={key:0,class:"w-full p-1"},J={class:"relative w-full overflow-auto"},Q={class:"w-full min-w-max table-auto"},R={class:"bg-brand-600 text-sm uppercase leading-normal text-white"},W={key:0,class:"bg-brand-600 sticky left-0 py-3 px-2 text-left"},X={class:"inline-flex items-center gap-1"},Z=s("div",null,"SL",-1),$=s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 9l4-4 4 4m0 6l-4 4-4-4"})],-1),ee=[$],te={class:"inline-flex items-center gap-1"},se=["innerHTML"],le=["onClick"],oe=s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 9l4-4 4 4m0 6l-4 4-4-4"})],-1),re=[oe],ae={class:"bg-white text-sm font-light text-gray-600"},ne={key:0,class:"sticky left-0 bg-white py-3 px-2 text-left"},ie={key:0,class:"border-b border-gray-200 hover:bg-gray-50"},de=s("td",{colspan:"100",class:"py-3 px-2 text-center text-red-500"}," No data found !! ",-1),ce=[de],ue={key:1,class:"w-full p-1"};function he(o,t,l,w,i,n){const y=L("paginator-links");return r(),a(u,null,[s("div",O,[(r(!0),a(u,null,f(l.filters,(e,d)=>(r(),a("div",{class:"order-1 flex w-full sm:w-auto lg:order-2",key:d},[m(s("select",{onChange:t[0]||(t[0]=(...c)=>n.searchHandler&&n.searchHandler(...c)),"onUpdate:modelValue":c=>i.filterData[d]=c,name:d,class:"block w-full rounded-md shadow-sm focus:outline-none focus:ring-0"},[s("option",V,g(d.replaceAll("_"," ").toLowerCase().replace(/\b[a-z]/g,function(c){return c.toUpperCase()}))+" (All) ",1),(r(!0),a(u,null,f(e,(c,v)=>(r(),a("option",{key:v,value:v},g(c),9,q))),128))],40,B),[[p,i.filterData[d]]])]))),128)),l.dateFilter?(r(),a("div",M,[s("div",N,[m(s("select",{onChange:t[1]||(t[1]=(...e)=>n.dateSearchHandler&&n.dateSearchHandler(...e)),"onUpdate:modelValue":t[2]||(t[2]=e=>i.valueDateFilter=e),class:"block w-full min-w-max cursor-pointer rounded-md shadow-sm focus:outline-none focus:ring-0"},[U,(r(!0),a(u,null,f(l.varientDateFilter,(e,d)=>(r(),a("option",{key:d,value:d},g(e),9,j))),128))],544),[[p,i.valueDateFilter]])]),s("div",A,[m(s("input",{onInput:t[3]||(t[3]=(...e)=>n.searchHandler&&n.searchHandler(...e)),"onUpdate:modelValue":t[4]||(t[4]=e=>i.dateFrom=e),max:this.dateTo,type:"date",class:"block w-full max-w-xs rounded-md shadow-sm focus:outline-none focus:ring-0"},null,40,I),[[k,!i.valueDateFilter],[_,i.dateFrom]])]),s("div",E,[m(s("input",{onInput:t[5]||(t[5]=(...e)=>n.searchHandler&&n.searchHandler(...e)),"onUpdate:modelValue":t[6]||(t[6]=e=>i.dateTo=e),min:this.dateFrom,type:"date",class:"block w-full max-w-xs rounded-md shadow-sm focus:outline-none focus:ring-0"},null,40,z),[[k,!i.valueDateFilter],[_,i.dateTo]])])])):h("",!0),s("div",P,[m(s("select",{onChange:t[7]||(t[7]=(...e)=>n.searchHandler&&n.searchHandler(...e)),"onUpdate:modelValue":t[8]||(t[8]=e=>i.perpage=e),class:"block w-full cursor-pointer rounded-md shadow-sm focus:outline-none focus:ring-0"},[(r(!0),a(u,null,f(l.pageLength,e=>(r(),a("option",{key:e,value:e},g(e),9,Y))),128))],544),[[p,i.perpage]])]),s("div",K,[m(s("input",{onInput:t[9]||(t[9]=(...e)=>n.searchHandler&&n.searchHandler(...e)),class:"block w-full rounded-md shadow-sm focus:outline-none focus:ring-0",type:"search","onUpdate:modelValue":t[10]||(t[10]=e=>i.search=e),placeholder:"Search here ..."},null,544),[[_,i.search]])])]),l.collections.meta.total&&l.topLinks?(r(),a("div",G,[b(y,{collections:l.collections},null,8,["collections"])])):h("",!0),s("div",J,[s("table",Q,[s("thead",null,[s("tr",R,[l.serialColumn?(r(),a("th",W,[s("div",X,[Z,s("div",{class:"flex cursor-pointer flex-col",onClick:t[11]||(t[11]=(...e)=>n.sortDirectionHandler&&n.sortDirectionHandler(...e))},ee)])])):h("",!0),(r(!0),a(u,null,f(l.columns,(e,d)=>(r(),a("th",{key:d,class:D(["bg-brand-600 py-3 px-2",{"text-left":e.align=="left","text-center":e.align=="center","text-right":e.align=="right"}])},[s("div",te,[s("div",{innerHTML:e.title},null,8,se),e.sortable?(r(),a("div",{key:0,class:D(["flex cursor-pointer flex-col",{"text-gray-900":e.sortable!=this.sort}]),onClick:c=>n.sortHandler(e.sortable)},re,10,le)):h("",!0)])],2))),128)),F(o.$slots,"head")])]),s("tbody",ae,[(r(!0),a(u,null,f(l.collections.data,(e,d)=>(r(),a("tr",{key:d,class:"border-b border-gray-200 hover:bg-gray-50"},[l.serialColumn?(r(),a("td",ne,g(o.sortNewToOld?l.collections.meta.total+1-(l.collections.meta.from+d):l.collections.meta.from+d),1)):h("",!0),F(o.$slots,"default",{item:e})]))),128)),l.collections.meta.total?h("",!0):(r(),a("tr",ie,ce))])])]),l.collections.meta.total&&l.bottomLinks?(r(),a("div",ue,[b(y,{collections:l.collections},null,8,["collections"])])):h("",!0)],64)}const pe=T(C,[["render",he]]);export{pe as S};
