import{V as x}from"./ValidationErrors-c644e5de.js";import{L as U}from"./Label-d26a6110.js";import{B as A}from"./Button-8bea5765.js";import{I as q}from"./Input-92f590ba.js";import{S}from"./Select-79da2c15.js";import{F as I}from"./FormHeading-3aa523d3.js";import{F as C}from"./FormGroup-db26f158.js";import{F as H}from"./FormSlotGroup-d2780747.js";import{r as g,o as i,c as n,a as t,b as o,w as d,n as j,d as D,e as h,F as p,f as _,t as f,g as y}from"./app-34468406.js";import{_ as F}from"./_plugin-vue_export-helper-c27b6911.js";import"./TrashIcon-39f39eaf.js";import"./PlusCircleIcon-5c2fc182.js";const B={components:{ValidationErrors:x,Label:U,Button:A,Input:q,Select:S,FormHeading:I,FormGroup:C,FormSlotGroup:H},props:{moduleAction:String,buttonValue:{type:String,default:"সংরক্ষণ করুন"},data:{type:Object,default:{}},type:{type:String,default:"new"},student:{type:Number,default:0}},created(){this.present_address.divisions=this.data.divisions,this.present_address.districts=this.data.districts,this.present_address.areas=this.data.areas,this.permanent_address.divisions=this.data.divisions,this.permanent_address.districts=this.data.districts,this.permanent_address.areas=this.data.areas,this.data.hasStudent&&(this.form.father_info=this.data.student.fatherInfo,this.form.mother_info=this.data.student.motherInfo,this.form.guardian_info=this.data.student.guardianInfo,this.form.present_address.postoffice=this.data.student.presentAddress.postoffice,this.form.present_address.address=this.data.student.presentAddress.value,this.form.present_address.area=this.data.student.presentAddress.areaId,this.form.present_address.district=this.data.student.presentAddress.area.districtId,this.form.present_address.division=this.data.student.presentAddress.area.district.divisionId,this.form.permanent_address.postoffice=this.data.student.permanentAddress.postoffice,this.form.permanent_address.address=this.data.student.permanentAddress.value,this.form.permanent_address.area=this.data.student.permanentAddress.areaId,this.form.permanent_address.district=this.data.student.permanentAddress.area.districtId,this.form.permanent_address.division=this.data.student.permanentAddress.area.district.divisionId)},data(){return{present_address:{divisions:"",districts:"",postoffice:"",areas:""},permanent_address:{divisions:"",districts:"",postoffice:"",areas:""},form:this.$inertia.form({type:this.type,student:this.student,step:1,name:this.data.student.name,date_of_birth:this.data.student.dateOfBirth,birth_certificate:this.data.student.birthCertificate,gender:this.data.student.gender,blood_group:this.data.student.bloodGroup,father_info:{name:"",phone:"",occupation:"",relation:"পিতা"},mother_info:{name:"",phone:"",occupation:"",relation:"মাতা"},guardian_type:this.data.hasStudent?this.data.student.guardianType:0,guardian_info:{name:"",phone:"",occupation:"",relation:""},is_same_address:this.data.hasStudent?this.data.student.isSameAddress:0,present_address:{division:"",district:"",area:"",address:"",postoffice:""},permanent_address:{division:"",district:"",area:"",address:"",postoffice:""},class_id:this.data.admission.classId,resident:this.data.student.resident,previous_school:this.data.admission.previousSchool,previous_class:this.data.admission.previousClass,previous_roll:this.data.admission.previousRoll,previous_result:this.data.admission.previousResult})}},methods:{submit(){if(this.moduleAction=="store")return this.form.post(this.route("admissions.store"));if(this.moduleAction=="update")return this.form.put(this.route("admissions.update",this.data.admission.id))},sameAsPresentHandler(u){this.form.is_same_address=u.target.checked},presentAddressDivisionSelectHandler(){this.form.present_address.division?this.present_address.districts=Object.values(this.data.districts).filter(u=>u.divisionId==this.form.present_address.division):this.present_address.districts=this.data.districts,this.form.present_address.district="",this.presentAddressDistrictSelectHandler()},presentAddressDistrictSelectHandler(){this.form.present_address.district?this.present_address.areas=Object.values(this.data.areas).filter(u=>u.districtId==this.form.present_address.district):this.present_address.areas=this.data.areas,this.form.present_address.area=""},permanentAddressDivisionSelectHandler(){this.form.permanent_address.division?this.permanent_address.districts=Object.values(this.data.districts).filter(u=>u.divisionId==this.form.permanent_address.division):this.permanent_address.districts=this.data.districts,this.form.permanent_address.district="",this.permanentAddressDistrictSelectHandler()},permanentAddressDistrictSelectHandler(){this.form.permanent_address.district?this.permanent_address.areas=Object.values(this.data.areas).filter(u=>u.districtId==this.form.permanent_address.district):this.permanent_address.areas=this.data.areas,this.form.permanent_address.area=""}}},O={class:"w-full max-w-3xl rounded border bg-white p-4 shadow"},N={class:"grid gap-x-2 gap-y-4 md:grid-cols-2"},G={class:"flex gap-2"},L=o("option",{value:""},"-- নির্বাচন করুন --",-1),E=o("option",{value:1},"ছেলে",-1),P=o("option",{value:2},"মেয়ে",-1),R=o("option",{value:""},"-- নির্বাচন করুন --",-1),T=["value"],z=o("span",{class:"text-rose-700"},"*",-1),M={class:"grid gap-x-2 gap-y-4 md:grid-cols-3"},J={class:"col-span-full flex items-center justify-center gap-3 md:justify-start"},K={class:"flex items-center gap-1"},Q=o("span",null,"পিতা",-1),W={class:"flex items-center gap-1"},X=o("span",null,"মাতা",-1),Y={class:"flex items-center gap-1"},Z=o("span",null,"বৈধ অভিভাবক",-1),$={key:0,class:"grid gap-2 md:grid-cols-3"},ee={class:"grid gap-x-2 gap-y-4 md:grid-cols-3"},se=o("option",{value:""},"-- নির্বাচন করুন --",-1),te=["value"],le=o("option",{value:""},"-- নির্বাচন করুন --",-1),de=["value"],re=o("option",{value:""},"-- নির্বাচন করুন --",-1),oe=["value"],ae={class:"col-span-full flex items-center justify-center gap-3 md:justify-start"},ie={class:"flex items-center justify-center gap-1"},ne=o("span",null,"বর্তমান ও স্থায়ী ঠিকানা একই",-1),ue={key:0,class:"grid gap-x-2 gap-y-4 md:grid-cols-3"},me=o("option",{value:""},"-- নির্বাচন করুন --",-1),fe=["value"],pe=o("option",{value:""},"-- নির্বাচন করুন --",-1),_e=["value"],ce=o("option",{value:""},"-- নির্বাচন করুন --",-1),he=["value"],be={class:"grid gap-x-2 gap-y-4 rounded-md border border-dashed border-gray-300 p-2 md:grid-cols-5"},ge={class:"grid gap-2 rounded-md border border-dashed border-gray-300 p-2 md:grid-cols-2"},Ve=o("option",{value:""},"-- নির্বাচন করুন --",-1),ve=["value"],ye=o("option",{value:""},"-- নির্বাচন করুন --",-1),ke=["value"],we=o("hr",{class:"my-4 w-full"},null,-1),xe={class:"flex items-center justify-end"};function Ue(u,l,v,Ae,s,c){const k=g("validation-errors"),b=g("form-heading"),a=g("Input"),r=g("form-group"),m=g("Select"),w=g("Button");return i(),n("div",O,[t(k,{class:"mb-4"}),o("form",{onSubmit:l[33]||(l[33]=D((...e)=>c.submit&&c.submit(...e),["prevent"])),class:""},[t(b,{class:"mb-2"},{default:d(()=>[h("ব্যক্তিগত তথ্য")]),_:1}),o("div",N,[t(r,{class:"w-full",label:"শিক্ষার্থীর নাম"},{default:d(()=>[t(a,{type:"text",class:"block w-full",modelValue:s.form.name,"onUpdate:modelValue":l[0]||(l[0]=e=>s.form.name=e),required:""},null,8,["modelValue"])]),_:1}),t(r,{class:"w-full",label:"জন্ম তারিখ"},{default:d(()=>[t(a,{type:"date",class:"block w-full",modelValue:s.form.date_of_birth,"onUpdate:modelValue":l[1]||(l[1]=e=>s.form.date_of_birth=e),required:""},null,8,["modelValue"])]),_:1}),t(r,{class:"w-full",label:"জন্ম নিবন্ধন নাম্বার"},{default:d(()=>[t(a,{type:"number",class:"block w-full",modelValue:s.form.birth_certificate,"onUpdate:modelValue":l[2]||(l[2]=e=>s.form.birth_certificate=e)},null,8,["modelValue"])]),_:1}),o("div",G,[t(r,{class:"flex-1",label:"লিঙ্গ"},{default:d(()=>[t(m,{class:"block w-full",modelValue:s.form.gender,"onUpdate:modelValue":l[3]||(l[3]=e=>s.form.gender=e),required:""},{default:d(()=>[L,E,P]),_:1},8,["modelValue"])]),_:1}),t(r,{class:"flex-1",label:"রক্তের গ্রুপ"},{default:d(()=>[t(m,{class:"block w-full",modelValue:s.form.blood_group,"onUpdate:modelValue":l[4]||(l[4]=e=>s.form.blood_group=e)},{default:d(()=>[R,(i(!0),n(p,null,_(v.data.bloodGroups,(e,V)=>(i(),n("option",{key:V,value:V},f(e),9,T))),128))]),_:1},8,["modelValue"])]),_:1})]),t(r,{class:"col-span-full grid gap-2 rounded-md border border-dashed border-gray-300 px-2 py-2 md:grid-cols-3"},{default:d(()=>[t(r,{class:"w-full",label:"পিতার নাম"},{default:d(()=>[t(a,{type:"text",class:"block w-full",modelValue:s.form.father_info.name,"onUpdate:modelValue":l[5]||(l[5]=e=>s.form.father_info.name=e),required:""},null,8,["modelValue"])]),_:1}),t(r,{class:"w-full",label:"ফোন"},{default:d(()=>[t(a,{type:"number",class:"block w-full",modelValue:s.form.father_info.phone,"onUpdate:modelValue":l[6]||(l[6]=e=>s.form.father_info.phone=e),required:s.form.guardian_type==1},null,8,["modelValue","required"])]),_:1}),t(r,{class:"w-full",label:"পেশা"},{default:d(()=>[t(a,{type:"text",class:"block w-full",modelValue:s.form.father_info.occupation,"onUpdate:modelValue":l[7]||(l[7]=e=>s.form.father_info.occupation=e)},null,8,["modelValue"])]),_:1})]),_:1}),t(r,{class:"col-span-full grid gap-2 rounded-md border border-dashed border-gray-300 px-2 py-2 md:grid-cols-3"},{default:d(()=>[t(r,{class:"w-full",label:"মাতার নাম"},{default:d(()=>[t(a,{type:"text",class:"block w-full",modelValue:s.form.mother_info.name,"onUpdate:modelValue":l[8]||(l[8]=e=>s.form.mother_info.name=e),required:""},null,8,["modelValue"])]),_:1}),t(r,{class:"w-full",label:"ফোন"},{default:d(()=>[t(a,{type:"number",class:"block w-full",modelValue:s.form.mother_info.phone,"onUpdate:modelValue":l[9]||(l[9]=e=>s.form.mother_info.phone=e),required:s.form.guardian_type==2},null,8,["modelValue","required"])]),_:1}),t(r,{class:"w-full",label:"পেশা"},{default:d(()=>[t(a,{type:"text",class:"block w-full",modelValue:s.form.mother_info.occupation,"onUpdate:modelValue":l[10]||(l[10]=e=>s.form.mother_info.occupation=e)},null,8,["modelValue"])]),_:1})]),_:1})]),t(b,{class:"mt-6 mb-2"},{default:d(()=>[h(" অভিভাবকের তথ্য "),z]),_:1}),o("div",M,[t(r,{class:"col-span-full grid gap-2 rounded-md border border-dashed border-gray-300 px-2 py-2"},{default:d(()=>[o("div",J,[o("label",K,[t(a,{modelValue:s.form.guardian_type,"onUpdate:modelValue":l[11]||(l[11]=e=>s.form.guardian_type=e),type:"radio",name:"guardian_info_type",value:1,checked:s.form.guardian_type==1,required:""},null,8,["modelValue","checked"]),Q]),o("label",W,[t(a,{modelValue:s.form.guardian_type,"onUpdate:modelValue":l[12]||(l[12]=e=>s.form.guardian_type=e),type:"radio",name:"guardian_info_type",value:2,checked:s.form.guardian_type==2,required:""},null,8,["modelValue","checked"]),X]),o("label",Y,[t(a,{modelValue:s.form.guardian_type,"onUpdate:modelValue":l[13]||(l[13]=e=>s.form.guardian_type=e),type:"radio",name:"guardian_info_type",value:3,checked:s.form.guardian_type==3,required:""},null,8,["modelValue","checked"]),Z])]),s.form.guardian_type==3?(i(),n("div",$,[t(r,{class:"w-full",label:"অভিভাবকের নাম"},{default:d(()=>[t(a,{type:"text",class:"block w-full",modelValue:s.form.guardian_info.name,"onUpdate:modelValue":l[14]||(l[14]=e=>s.form.guardian_info.name=e),required:""},null,8,["modelValue"])]),_:1}),t(r,{class:"w-full",label:"ফোন"},{default:d(()=>[t(a,{type:"number",class:"block w-full",modelValue:s.form.guardian_info.phone,"onUpdate:modelValue":l[15]||(l[15]=e=>s.form.guardian_info.phone=e),required:""},null,8,["modelValue"])]),_:1}),t(r,{class:"w-full",label:"শিক্ষাথীর সাথে সম্পর্ক"},{default:d(()=>[t(a,{type:"text",class:"block w-full",modelValue:s.form.guardian_info.relation,"onUpdate:modelValue":l[16]||(l[16]=e=>s.form.guardian_info.relation=e)},null,8,["modelValue"])]),_:1})])):y("",!0)]),_:1})]),t(b,{class:"mt-6 mb-2"},{default:d(()=>[h("বর্তমান ঠিকানা")]),_:1}),t(r,{class:"col-span-full grid gap-2 rounded-md border border-dashed border-gray-300 px-2 pt-2 pb-2"},{default:d(()=>[o("div",ee,[t(r,{label:"বিভাগ"},{default:d(()=>[t(m,{class:"block w-full",modelValue:s.form.present_address.division,"onUpdate:modelValue":l[17]||(l[17]=e=>s.form.present_address.division=e),onChange:c.presentAddressDivisionSelectHandler,required:""},{default:d(()=>[se,(i(!0),n(p,null,_(s.present_address.divisions,e=>(i(),n("option",{key:e.id,value:e.id},f(e.name),9,te))),128))]),_:1},8,["modelValue","onChange"])]),_:1}),t(r,{label:"জেলা"},{default:d(()=>[t(m,{class:"block w-full",modelValue:s.form.present_address.district,"onUpdate:modelValue":l[18]||(l[18]=e=>s.form.present_address.district=e),onChange:c.presentAddressDistrictSelectHandler,required:""},{default:d(()=>[le,(i(!0),n(p,null,_(s.present_address.districts,e=>(i(),n("option",{key:e.id,value:e.id},f(e.name),9,de))),128))]),_:1},8,["modelValue","onChange"])]),_:1}),t(r,{label:"উপজেলা/থানা"},{default:d(()=>[t(m,{class:"block w-full",modelValue:s.form.present_address.area,"onUpdate:modelValue":l[19]||(l[19]=e=>s.form.present_address.area=e),required:""},{default:d(()=>[re,(i(!0),n(p,null,_(s.present_address.areas,e=>(i(),n("option",{key:e.id,value:e.id},f(e.name),9,oe))),128))]),_:1},8,["modelValue"])]),_:1}),t(r,{label:"পোস্ট অফিস",class:"col-span-1"},{default:d(()=>[t(a,{type:"text",class:"block w-full",modelValue:s.form.present_address.postoffice,"onUpdate:modelValue":l[20]||(l[20]=e=>s.form.present_address.postoffice=e),required:""},null,8,["modelValue"])]),_:1}),t(r,{label:"বাড়ি নং, রোড নং, গ্রাম/মহল্লা",class:"col-span-2"},{default:d(()=>[t(a,{type:"text",class:"block w-full",modelValue:s.form.present_address.address,"onUpdate:modelValue":l[21]||(l[21]=e=>s.form.present_address.address=e),required:""},null,8,["modelValue"])]),_:1})])]),_:1}),t(b,{class:"mt-6 mb-2"},{default:d(()=>[h("স্থায়ী ঠিকানা")]),_:1}),t(r,{class:"col-span-full grid gap-2 rounded-md border border-dashed border-gray-300 px-2 pt-2 pb-2"},{default:d(()=>[o("div",ae,[o("label",ie,[t(a,{onChange:c.sameAsPresentHandler,type:"checkbox",checked:s.form.is_same_address},null,8,["onChange","checked"]),ne])]),s.form.is_same_address?y("",!0):(i(),n("div",ue,[t(r,{label:"বিভাগ"},{default:d(()=>[t(m,{class:"block w-full",modelValue:s.form.permanent_address.division,"onUpdate:modelValue":l[22]||(l[22]=e=>s.form.permanent_address.division=e),onChange:c.permanentAddressDivisionSelectHandler,required:""},{default:d(()=>[me,(i(!0),n(p,null,_(s.permanent_address.divisions,e=>(i(),n("option",{key:e.id,value:e.id},f(e.name),9,fe))),128))]),_:1},8,["modelValue","onChange"])]),_:1}),t(r,{label:"জেলা"},{default:d(()=>[t(m,{class:"block w-full",modelValue:s.form.permanent_address.district,"onUpdate:modelValue":l[23]||(l[23]=e=>s.form.permanent_address.district=e),onChange:c.permanentAddressDistrictSelectHandler,required:""},{default:d(()=>[pe,(i(!0),n(p,null,_(s.permanent_address.districts,e=>(i(),n("option",{key:e.id,value:e.id},f(e.name),9,_e))),128))]),_:1},8,["modelValue","onChange"])]),_:1}),t(r,{label:"উপজেলা/থানা"},{default:d(()=>[t(m,{class:"block w-full",modelValue:s.form.permanent_address.area,"onUpdate:modelValue":l[24]||(l[24]=e=>s.form.permanent_address.area=e),required:""},{default:d(()=>[ce,(i(!0),n(p,null,_(s.permanent_address.areas,e=>(i(),n("option",{key:e.id,value:e.id},f(e.name),9,he))),128))]),_:1},8,["modelValue"])]),_:1}),t(r,{label:"পোস্ট অফিস",class:"col-span-1"},{default:d(()=>[t(a,{type:"text",class:"block w-full",modelValue:s.form.permanent_address.postoffice,"onUpdate:modelValue":l[25]||(l[25]=e=>s.form.permanent_address.postoffice=e),required:""},null,8,["modelValue"])]),_:1}),t(r,{label:"বাড়ি নং, রোড নং, গ্রাম/মহল্লা",class:"col-span-2"},{default:d(()=>[t(a,{type:"text",class:"block w-full",modelValue:s.form.permanent_address.address,"onUpdate:modelValue":l[26]||(l[26]=e=>s.form.permanent_address.address=e),required:""},null,8,["modelValue"])]),_:1})]))]),_:1}),t(b,{class:"mt-6 mb-2"},{default:d(()=>[h(" সর্বশেষ বিদ্যালয়ের তথ্য ")]),_:1}),o("div",be,[t(r,{class:"col-span-full",label:"সর্বশেষ যে বিদ্যালয়ে পড়েছে তার নাম"},{default:d(()=>[t(a,{type:"text",class:"block w-full",modelValue:s.form.previous_school,"onUpdate:modelValue":l[27]||(l[27]=e=>s.form.previous_school=e)},null,8,["modelValue"])]),_:1}),t(r,{class:"md:col-span-2",label:"সর্বশেষ শ্রেণী"},{default:d(()=>[t(a,{type:"text",class:"block w-full",modelValue:s.form.previous_class,"onUpdate:modelValue":l[28]||(l[28]=e=>s.form.previous_class=e)},null,8,["modelValue"])]),_:1}),t(r,{class:"",label:"সর্বশেষ রোল"},{default:d(()=>[t(a,{type:"text",class:"block w-full",modelValue:s.form.previous_roll,"onUpdate:modelValue":l[29]||(l[29]=e=>s.form.previous_roll=e)},null,8,["modelValue"])]),_:1}),t(r,{class:"md:col-span-2",label:"সর্বশেষ পরীক্ষার অর্জিত ফলাফল"},{default:d(()=>[t(a,{type:"text",class:"block w-full",modelValue:s.form.previous_result,"onUpdate:modelValue":l[30]||(l[30]=e=>s.form.previous_result=e)},null,8,["modelValue"])]),_:1})]),t(b,{class:"mt-6 mb-2"},{default:d(()=>[h(" যে ক্লাস/বিভাগে ভর্তি হতে ইচ্ছুক ")]),_:1}),o("div",ge,[t(r,{label:"শ্রেণী/বিভাগ"},{default:d(()=>[t(m,{required:"",class:"block w-full",modelValue:s.form.class_id,"onUpdate:modelValue":l[31]||(l[31]=e=>s.form.class_id=e)},{default:d(()=>[Ve,(i(!0),n(p,null,_(v.data.classes,e=>(i(),n("option",{key:e.id,value:e.id},f(e.name),9,ve))),128))]),_:1},8,["modelValue"])]),_:1}),t(r,{label:"শিক্ষার্থীর ধরন"},{default:d(()=>[t(m,{required:"",class:"block w-full",modelValue:s.form.resident,"onUpdate:modelValue":l[32]||(l[32]=e=>s.form.resident=e)},{default:d(()=>[ye,(i(!0),n(p,null,_(v.data.residentArray,(e,V)=>(i(),n("option",{key:V,value:V},f(e),9,ke))),128))]),_:1},8,["modelValue"])]),_:1})]),we,o("div",xe,[t(w,{class:j(["",{"opacity-25":s.form.processing}]),disabled:s.form.processing},{default:d(()=>[h(f(v.buttonValue),1)]),_:1},8,["class","disabled"])])],32)])}const Le=F(B,[["render",Ue]]);export{Le as default};
