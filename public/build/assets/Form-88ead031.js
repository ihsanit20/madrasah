import{V as y}from"./ValidationErrors-62ec6324.js";import{B as v}from"./Button-ee0d1e29.js";import{I as k}from"./Input-fe9d8c63.js";import{S as w}from"./Select-7a3aea8e.js";import{F as I}from"./FormGroup-4e373c2e.js";import{T as V}from"./Textarea-4401d210.js";import{L as j}from"./LetterHead-85ac93ce.js";import{i as B,r as l,o as m,c as p,a as e,b as t,F,f as T,t as d,w as x,n as L,d as S,g as C,e as f}from"./app-e97a51a8.js";import{I as N}from"./InlineData-18078cd8.js";import{_ as E}from"./_plugin-vue_export-helper-c27b6911.js";import"./Label-b7d7db00.js";import"./ApplicationLogo-b241dc52.js";const O={components:{ValidationErrors:y,Button:v,Input:k,Select:w,FormGroup:I,Textarea:V,LetterHead:j,Link:B,InlineData:N},props:{moduleAction:String,buttonValue:{type:String,default:"সংরক্ষণ করুণ"},data:{type:Object,default:{}}},created(){this.form.admission_id=this.data.admission.id,this.form.purpose=this.data.purpose,this.form.date=this.data.date,this.form.fees=this.data.fees,Object.keys(this.data.paidPayments).length?(this.form.fees=[],this.form.fees.push({id:1,classId:0,feeId:0,amount:this.data.parentPayment.total,concession:0,name:this.data.parentPayment.purposeText,period:2}),Object.values(this.data.paidPayments).forEach(s=>{let o=this.$e2bnumber(s.id);this.form.fees.push({id:1,classId:0,feeId:0,amount:-s.paid,concession:0,name:`পূর্বের জমা (রশিদ নং: ${o})`,period:2})})):this.data.admission.student.due&&this.form.fees.unshift({id:1,classId:0,feeId:0,amount:this.data.admission.student.due,concession:0,name:"পূর্বের বকেয়া",period:2})},data(){return{verifiedBy:this.$page.props.auth.user.name,form:this.$inertia.form({admission_id:"",purpose:"",date:"",total:"",paid:"",fees:[]})}},methods:{submit(){if(this.form.total=this.getFeeTotal(),this.moduleAction=="store")return this.form.post(this.route("payments.store"));if(this.moduleAction=="update")return this.form.put(this.route("payments.update",this.data.payment.id))},getFeeTotal(){let s=0;return Object.values(this.form.fees).forEach(o=>{s+=parseInt(o.amount)}),s}}},P={class:"w-full max-w-lg rounded border bg-white p-4 shadow"},A=t("h2",{class:"mb-2 text-center text-2xl font-bold text-brand-600 print:text-black"}," টাকা জমার রশিদ ",-1),q={class:"grid gap-x-1 md:grid-cols-3"},D={class:"col-span-2"},z={class:"col-span-2"},G={class:"col-span-2"},H={class:"col-span-2"},M={class:"min-w-full table-fixed divide-y divide-gray-200 dark:divide-gray-700 print:divide-black"},U=t("thead",{class:"bg-gray-300 dark:bg-gray-700"},[t("tr",null,[t("th",{class:"py-2 px-2 text-left text-xs font-bold uppercase tracking-wider text-gray-700 dark:text-gray-400 print:text-black md:text-sm"}," ক্রম "),t("th",{class:"py-2 px-2 text-left text-xs font-bold uppercase tracking-wider text-gray-700 dark:text-gray-400 print:text-black md:text-sm"}," ফি বিবরণী "),t("th",{class:"py-2 px-2 text-right text-xs font-bold uppercase tracking-wider text-gray-700 dark:text-gray-400 print:text-black md:text-sm"}," নির্ধারিত টাকা ")])],-1),J={class:"whitespace-nowrap py-2 px-2 text-left text-xs font-medium text-gray-900 dark:text-white md:text-sm"},K={class:"whitespace-nowrap py-2 px-2 text-left text-xs font-medium text-gray-900 dark:text-white md:text-sm"},Q={class:"whitespace-nowrap py-2 px-2 text-right text-xs font-medium text-gray-900 dark:text-white md:text-sm"},R={class:"flex items-center justify-end gap-2"},W={key:0,class:"text-gray-400"},X={colspan:"3",class:"py-2 px-2 text-right text-xs font-bold uppercase tracking-wider text-gray-700 dark:text-gray-400 print:text-black md:text-sm"},Y={class:"flex justify-end gap-2"},Z=t("span",null,"মোট প্রদেয়:",-1),$={colspan:"3",class:"py-1 text-right text-xs font-bold uppercase tracking-wider text-brand-600 dark:text-gray-400 print:text-black md:text-sm"},tt={class:"flex items-center justify-end gap-1"},et=t("span",null,"জমা:",-1),st={colspan:"3",class:"py-2 px-2 text-right text-xs font-bold uppercase tracking-wider text-rose-600 dark:text-gray-400 print:text-black md:text-sm"},at={class:"flex justify-end gap-2"},ot=t("span",null,"বাকী:",-1),it=t("hr",null,null,-1),nt={class:"col-span-full space-y-2 rounded-md border border-dashed border-gray-300 p-3"},rt={class:"flex items-center gap-2"},dt=t("span",{class:"-mb-1 text-sm"}," আমি শিক্ষার্থী/অভিভাবকের কাছ থেকে উপরোক্ত পরিমাণ টাকা বুঝে পেয়েছি। ",-1),lt={class:"mt-4 flex items-center justify-between"};function ct(s,o,i,mt,n,c){const _=l("validation-errors"),r=l("inline-data"),u=l("Input"),b=l("Link"),g=l("Button");return m(),p("div",P,[e(_),A,t("div",q,[t("div",D,[e(r,{title:"তারিখ:",value:s.$e2bnumber(i.data.date)},null,8,["value"])]),t("div",z,[e(r,{title:"শ্রেণী:",value:i.data.admission.className},null,8,["value"])]),t("div",null,[e(r,{title:"রোল:",value:s.$e2bnumber(i.data.admission.roll)},null,8,["value"])]),t("div",G,[e(r,{title:"শিক্ষার্থীর নাম:",value:i.data.admission.student.name},null,8,["value"])]),t("div",null,[e(r,{title:"রেজি. নং:",value:s.$e2bnumber(i.data.admission.student.registration)},null,8,["value"])]),t("div",H,[e(r,{title:"বাবদ:",value:i.data.purposeText},null,8,["value"])])]),t("form",{onSubmit:o[1]||(o[1]=S((...a)=>c.submit&&c.submit(...a),["prevent"])),class:"my-2"},[t("table",M,[U,(m(!0),p(F,null,T(n.form.fees,(a,h)=>(m(),p("tr",{key:h,class:"hover:bg-gray-100 dark:hover:bg-gray-700"},[t("td",J,d(s.$e2bnumber(h+1)),1),t("td",K,d(a.name),1),t("td",Q,[t("div",R,[a.concession?(m(),p("del",W,d(a.amount+a.concession),1)):C("",!0),t("span",null,d(a.amount),1)])])]))),128)),t("tr",null,[t("th",X,[t("div",Y,[Z,t("span",null,d(c.getFeeTotal()),1)])])]),t("tr",null,[t("th",$,[t("div",tt,[et,e(u,{type:"number",modelValue:n.form.paid,"onUpdate:modelValue":o[0]||(o[0]=a=>n.form.paid=a),class:"block w-16 px-1 py-0.5 text-right",required:""},null,8,["modelValue"])])])]),t("tr",null,[t("th",st,[t("div",at,[ot,t("span",null,d(c.getFeeTotal()-n.form.paid),1)])])])]),it,t("div",nt,[t("label",rt,[e(u,{type:"checkbox",name:"declaration",required:""}),dt]),t("div",null,[e(r,{title:"গ্রহিতার নাম:",value:n.verifiedBy},null,8,["value"])])]),t("div",lt,[e(b,{href:s.route("payments.create"),class:"rounded-md border border-brand-600 px-4 py-2 font-semibold text-brand-600 hover:bg-brand-700 hover:text-white"},{default:x(()=>[f(" ← পূর্ববর্তী ধাপ ")]),_:1},8,["href"]),e(g,{class:L(["",{"opacity-25":n.form.processing}]),disabled:n.form.processing},{default:x(()=>[f(d(i.buttonValue),1)]),_:1},8,["class","disabled"])])],32)])}const It=E(O,[["render",ct]]);export{It as default};
