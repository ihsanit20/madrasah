import{V as k}from"./ValidationErrors-8c7933f9.js";import{B as x}from"./Button-d2cfadaa.js";import{I as A}from"./Input-1bd0d71e.js";import{S as U}from"./Select-66ca7783.js";import{F as S}from"./FormHeading-43123559.js";import{F as I}from"./FormGroup-1b05500d.js";import{T as q}from"./Textarea-53a6f0dd.js";import{r as V,o as n,c as i,a as t,b as a,w as r,g as C,e as _,t as m,n as H,d as D,F as c,f as h}from"./app-d3163295.js";import{_ as j}from"./_plugin-vue_export-helper-c27b6911.js";import"./Label-2b9725af.js";const B={components:{ValidationErrors:k,Button:x,Input:A,Select:U,FormHeading:S,FormGroup:I,Textarea:q},props:{moduleAction:String,buttonValue:{type:String,default:"Save"},data:{type:Object,default:{}}},created(){this.present_address.divisions=this.data.divisions,this.present_address.districts=this.data.districts,this.present_address.areas=this.data.areas,this.permanent_address.divisions=this.data.divisions,this.permanent_address.districts=this.data.districts,this.permanent_address.areas=this.data.areas,this.moduleAction=="update"&&(this.form.father_info=this.data.staff.fatherInfo,this.form.mother_info=this.data.staff.motherInfo,this.form.guardian_info=this.data.staff.guardianInfo,this.form.present_address.postoffice=this.data.staff.presentAddress.postoffice,this.form.present_address.address=this.data.staff.presentAddress.value,this.form.present_address.area=this.data.staff.presentAddress.areaId,this.form.present_address.district=this.data.staff.presentAddress.area.districtId,this.form.present_address.division=this.data.staff.presentAddress.area.district.divisionId,this.form.permanent_address.postoffice=this.data.staff.permanentAddress.postoffice,this.form.permanent_address.address=this.data.staff.permanentAddress.value,this.form.permanent_address.area=this.data.staff.permanentAddress.areaId,this.form.permanent_address.district=this.data.staff.permanentAddress.area.districtId,this.form.permanent_address.division=this.data.staff.permanentAddress.area.district.divisionId)},data(){return{present_address:{divisions:"",districts:"",postoffice:"",areas:""},permanent_address:{divisions:"",districts:"",postoffice:"",areas:""},form:this.$inertia.form({name:this.data.staff.name||"",phone:this.data.staff.phone||"",designation_id:this.data.staff.designationId||"",father_info:this.data.staff.father_info||{},mother_info:this.data.staff.mother_info||{},reference:this.data.staff.reference||{},is_same_address:this.moduleAction=="update"?this.data.student.isSameAddress:0,present_address:{division:"",district:"",area:"",address:""},permanent_address:{division:"",district:"",area:"",address:""}})}},methods:{submit(){if(this.moduleAction=="store")return this.form.post(this.route("staff.store"));if(this.moduleAction=="update")return this.form.put(this.route("staff.update",this.data.staff.id))},sameAsPresentHandler(f){this.form.is_same_address=f.target.checked},presentAddressDivisionSelectHandler(){this.form.present_address.division?this.present_address.districts=Object.values(this.data.districts).filter(f=>f.divisionId==this.form.present_address.division):this.present_address.districts=this.data.districts,this.form.present_address.district="",this.presentAddressDistrictSelectHandler()},presentAddressDistrictSelectHandler(){this.form.present_address.district?this.present_address.areas=Object.values(this.data.areas).filter(f=>f.districtId==this.form.present_address.district):this.present_address.areas=this.data.areas,this.form.present_address.area=""},permanentAddressDivisionSelectHandler(){this.form.permanent_address.division?this.permanent_address.districts=Object.values(this.data.districts).filter(f=>f.divisionId==this.form.permanent_address.division):this.permanent_address.districts=this.data.districts,this.form.permanent_address.district="",this.permanentAddressDistrictSelectHandler()},permanentAddressDistrictSelectHandler(){this.form.permanent_address.district?this.permanent_address.areas=Object.values(this.data.areas).filter(f=>f.districtId==this.form.permanent_address.district):this.permanent_address.areas=this.data.areas,this.form.permanent_address.area=""}}},F={class:"w-full max-w-xl rounded border bg-white p-4 shadow"},N={class:"grid gap-x-2 gap-y-4 md:grid-cols-2"},O={class:"flex gap-2"},T=a("option",{value:""},"-- নির্বাচন করুন --",-1),E=a("option",{value:1},"ছেলে",-1),G=a("option",{value:2},"মেয়ে",-1),P=a("option",{value:""},"-- Select --",-1),z=["value"],L={class:"grid gap-x-2 gap-y-4 md:grid-cols-2"},M={class:"grid gap-x-2 gap-y-4 md:grid-cols-4"},J={class:"grid gap-x-2 gap-y-4 md:grid-cols-3"},K=a("option",{value:""},"-- নির্বাচন করুন --",-1),Q=["value"],R=a("option",{value:""},"-- নির্বাচন করুন --",-1),W=["value"],X=a("option",{value:""},"-- নির্বাচন করুন --",-1),Y=["value"],Z={class:"col-span-full flex items-center justify-center gap-3 md:justify-start"},$={class:"flex items-center justify-center gap-1"},ee=a("span",null,"বর্তমান ও স্থায়ী ঠিকানা একই",-1),se={key:0,class:"grid gap-x-2 gap-y-4 md:grid-cols-3"},te=a("option",{value:""},"-- নির্বাচন করুন --",-1),le=["value"],re=a("option",{value:""},"-- নির্বাচন করুন --",-1),de=["value"],ae=a("option",{value:""},"-- নির্বাচন করুন --",-1),oe=["value"],ne=a("hr",{class:"my-4 w-full"},null,-1),ie={class:"flex items-center justify-end"};function fe(f,l,v,me,s,p){const w=V("validation-errors"),b=V("form-heading"),o=V("Input"),d=V("form-group"),u=V("Select"),y=V("Button");return n(),i("div",F,[t(w,{class:"mb-4"}),a("form",{onSubmit:l[25]||(l[25]=D((...e)=>p.submit&&p.submit(...e),["prevent"])),class:""},[t(b,{class:"mb-2"},{default:r(()=>[_("ব্যক্তিগত তথ্য")]),_:1}),a("div",N,[t(d,{class:"w-full",label:"নাম"},{default:r(()=>[t(o,{type:"text",class:"block w-full",modelValue:s.form.name,"onUpdate:modelValue":l[0]||(l[0]=e=>s.form.name=e),required:""},null,8,["modelValue"])]),_:1}),t(d,{class:"w-full",label:"জন্ম তারিখ"},{default:r(()=>[t(o,{type:"date",class:"block w-full",modelValue:s.form.date_of_birth,"onUpdate:modelValue":l[1]||(l[1]=e=>s.form.date_of_birth=e),required:""},null,8,["modelValue"])]),_:1}),t(d,{class:"w-full",label:"ফোন"},{default:r(()=>[t(o,{type:"text",class:"block w-full",modelValue:s.form.phone,"onUpdate:modelValue":l[2]||(l[2]=e=>s.form.phone=e),required:""},null,8,["modelValue"])]),_:1}),t(d,{class:"w-full",label:"বিকল্প ফোন"},{default:r(()=>[t(o,{type:"text",class:"block w-full",modelValue:s.form.alternative_phone,"onUpdate:modelValue":l[3]||(l[3]=e=>s.form.alternative_phone=e)},null,8,["modelValue"])]),_:1}),t(d,{class:"w-full",label:"NID / জন্ম নিবন্ধন নাম্বার"},{default:r(()=>[t(o,{type:"number",class:"block w-full",modelValue:s.form.birth_certificate,"onUpdate:modelValue":l[4]||(l[4]=e=>s.form.birth_certificate=e)},null,8,["modelValue"])]),_:1}),a("div",O,[t(d,{class:"flex-1",label:"লিঙ্গ"},{default:r(()=>[t(u,{class:"block w-full",modelValue:s.form.gender,"onUpdate:modelValue":l[5]||(l[5]=e=>s.form.gender=e),required:""},{default:r(()=>[T,E,G]),_:1},8,["modelValue"])]),_:1}),t(d,{class:"flex-1",label:"রক্তের গ্রুপ"},{default:r(()=>[t(u,{class:"block w-full",modelValue:s.form.blood_group,"onUpdate:modelValue":l[6]||(l[6]=e=>s.form.blood_group=e)},{default:r(()=>[P,(n(!0),i(c,null,h(v.data.bloodGroups,(e,g)=>(n(),i("option",{key:g,value:g},m(e),9,z))),128))]),_:1},8,["modelValue"])]),_:1})])]),t(b,{class:"mt-8"},{default:r(()=>[_("পারিবারিক তথ্য")]),_:1}),a("div",L,[t(d,{class:"w-full",label:"পিতার নাম"},{default:r(()=>[t(o,{type:"text",class:"block w-full",modelValue:s.form.father_info.name,"onUpdate:modelValue":l[7]||(l[7]=e=>s.form.father_info.name=e),required:""},null,8,["modelValue"])]),_:1}),t(d,{class:"w-full",label:"ফোন"},{default:r(()=>[t(o,{type:"number",class:"block w-full",modelValue:s.form.father_info.phone,"onUpdate:modelValue":l[8]||(l[8]=e=>s.form.father_info.phone=e)},null,8,["modelValue"])]),_:1}),t(d,{class:"w-full",label:"মাতার নাম"},{default:r(()=>[t(o,{type:"text",class:"block w-full",modelValue:s.form.mother_info.name,"onUpdate:modelValue":l[9]||(l[9]=e=>s.form.mother_info.name=e),required:""},null,8,["modelValue"])]),_:1}),t(d,{class:"w-full",label:"ফোন"},{default:r(()=>[t(o,{type:"number",class:"block w-full",modelValue:s.form.mother_info.phone,"onUpdate:modelValue":l[10]||(l[10]=e=>s.form.mother_info.phone=e)},null,8,["modelValue"])]),_:1})]),t(b,{class:"mt-8"},{default:r(()=>[_("রেফারেন্স তথ্য")]),_:1}),a("div",M,[t(d,{class:"w-full md:col-span-2",label:"নাম"},{default:r(()=>[t(o,{type:"text",class:"block w-full",modelValue:s.form.reference.name,"onUpdate:modelValue":l[11]||(l[11]=e=>s.form.reference.name=e),required:""},null,8,["modelValue"])]),_:1}),t(d,{class:"w-full",label:"ফোন"},{default:r(()=>[t(o,{type:"number",class:"block w-full",modelValue:s.form.reference.phone,"onUpdate:modelValue":l[12]||(l[12]=e=>s.form.reference.phone=e)},null,8,["modelValue"])]),_:1}),t(d,{class:"w-full",label:"সম্পর্ক"},{default:r(()=>[t(o,{type:"text",class:"block w-full",modelValue:s.form.reference.relation,"onUpdate:modelValue":l[13]||(l[13]=e=>s.form.reference.relation=e)},null,8,["modelValue"])]),_:1}),t(d,{class:"col-span-full w-full",label:"ঠিকানা"},{default:r(()=>[t(o,{type:"text",class:"block w-full",modelValue:s.form.reference.address,"onUpdate:modelValue":l[14]||(l[14]=e=>s.form.reference.address=e)},null,8,["modelValue"])]),_:1})]),t(b,{class:"mt-8"},{default:r(()=>[_("বর্তমান ঠিকানা")]),_:1}),a("div",J,[t(d,{label:"বিভাগ"},{default:r(()=>[t(u,{class:"block w-full",modelValue:s.form.present_address.division,"onUpdate:modelValue":l[15]||(l[15]=e=>s.form.present_address.division=e),onChange:p.presentAddressDivisionSelectHandler,required:""},{default:r(()=>[K,(n(!0),i(c,null,h(s.present_address.divisions,e=>(n(),i("option",{key:e.id,value:e.id},m(e.name),9,Q))),128))]),_:1},8,["modelValue","onChange"])]),_:1}),t(d,{label:"জেলা"},{default:r(()=>[t(u,{class:"block w-full",modelValue:s.form.present_address.district,"onUpdate:modelValue":l[16]||(l[16]=e=>s.form.present_address.district=e),onChange:p.presentAddressDistrictSelectHandler,required:""},{default:r(()=>[R,(n(!0),i(c,null,h(s.present_address.districts,e=>(n(),i("option",{key:e.id,value:e.id},m(e.name),9,W))),128))]),_:1},8,["modelValue","onChange"])]),_:1}),t(d,{label:"উপজেলা/থানা"},{default:r(()=>[t(u,{class:"block w-full",modelValue:s.form.present_address.area,"onUpdate:modelValue":l[17]||(l[17]=e=>s.form.present_address.area=e)},{default:r(()=>[X,(n(!0),i(c,null,h(s.present_address.areas,e=>(n(),i("option",{key:e.id,value:e.id,required:""},m(e.name),9,Y))),128))]),_:1},8,["modelValue"])]),_:1}),t(d,{label:"পোস্ট অফিস",class:"col-span-1"},{default:r(()=>[t(o,{type:"text",class:"block w-full",modelValue:s.form.present_address.postoffice,"onUpdate:modelValue":l[18]||(l[18]=e=>s.form.present_address.postoffice=e),required:""},null,8,["modelValue"])]),_:1}),t(d,{label:"বাড়ি নং, রোড নং, গ্রাম/মহল্লা",class:"col-span-2"},{default:r(()=>[t(o,{type:"text",class:"block w-full",modelValue:s.form.present_address.address,"onUpdate:modelValue":l[19]||(l[19]=e=>s.form.present_address.address=e),required:""},null,8,["modelValue"])]),_:1})]),t(b,{class:"mt-8"},{default:r(()=>[_("স্থায়ী ঠিকানা")]),_:1}),a("div",Z,[a("label",$,[t(o,{onChange:p.sameAsPresentHandler,type:"checkbox",checked:s.form.is_same_address},null,8,["onChange","checked"]),ee])]),s.form.is_same_address?C("",!0):(n(),i("div",se,[t(d,{label:"বিভাগ"},{default:r(()=>[t(u,{class:"block w-full",modelValue:s.form.permanent_address.division,"onUpdate:modelValue":l[20]||(l[20]=e=>s.form.permanent_address.division=e),onChange:p.permanentAddressDivisionSelectHandler,required:""},{default:r(()=>[te,(n(!0),i(c,null,h(s.permanent_address.divisions,e=>(n(),i("option",{key:e.id,value:e.id},m(e.name),9,le))),128))]),_:1},8,["modelValue","onChange"])]),_:1}),t(d,{label:"জেলা"},{default:r(()=>[t(u,{class:"block w-full",modelValue:s.form.permanent_address.district,"onUpdate:modelValue":l[21]||(l[21]=e=>s.form.permanent_address.district=e),onChange:p.permanentAddressDistrictSelectHandler,required:""},{default:r(()=>[re,(n(!0),i(c,null,h(s.permanent_address.districts,e=>(n(),i("option",{key:e.id,value:e.id},m(e.name),9,de))),128))]),_:1},8,["modelValue","onChange"])]),_:1}),t(d,{label:"উপজেলা/থানা"},{default:r(()=>[t(u,{class:"block w-full",modelValue:s.form.permanent_address.area,"onUpdate:modelValue":l[22]||(l[22]=e=>s.form.permanent_address.area=e),required:""},{default:r(()=>[ae,(n(!0),i(c,null,h(s.permanent_address.areas,e=>(n(),i("option",{key:e.id,value:e.id},m(e.name),9,oe))),128))]),_:1},8,["modelValue"])]),_:1}),t(d,{label:"পোস্ট অফিস",class:"col-span-1"},{default:r(()=>[t(o,{type:"text",class:"block w-full",modelValue:s.form.permanent_address.postoffice,"onUpdate:modelValue":l[23]||(l[23]=e=>s.form.permanent_address.postoffice=e),required:""},null,8,["modelValue"])]),_:1}),t(d,{label:"বাড়ি নং, রোড নং, গ্রাম/মহল্লা",class:"col-span-2"},{default:r(()=>[t(o,{type:"text",class:"block w-full",modelValue:s.form.permanent_address.address,"onUpdate:modelValue":l[24]||(l[24]=e=>s.form.permanent_address.address=e),required:""},null,8,["modelValue"])]),_:1})])),ne,_(" "+m(s.form)+" ",1),a("div",ie,[t(y,{class:H(["",{"opacity-25":s.form.processing}]),disabled:s.form.processing},{default:r(()=>[_(m(v.buttonValue),1)]),_:1},8,["class","disabled"])])],32)])}const ye=j(B,[["render",fe]]);export{ye as default};
