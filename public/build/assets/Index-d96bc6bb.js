import{A as C}from"./App-e0a4eee4.js";import{K as S,r as h,o as l,c as r,b as s,F as m,f as w,j as g,x as k,t as _,q as D,y as F,g as p,a as u,k as L,Z as B,i as V,w as b,e as U}from"./app-734b9270.js";import{L as q}from"./Label-ebc88c84.js";import{P as O}from"./PaginatorLinks-cb9477dc.js";import{_ as H}from"./_plugin-vue_export-helper-c27b6911.js";import{A as j}from"./ActionButtonShow-6558070e.js";import{A as N}from"./ActionButtonEdit-1ae45ee9.js";import{A as I}from"./ActionButtonDelete-fca126c4.js";import{A as P}from"./AddNewButton-9b0d601d.js";import"./Index-5433ad0a.js";import"./ApplicationLogo-6fe55f04.js";import"./Index-2159e647.js";const E={components:{PaginatorLinks:O,Label:q},computed:{request(){var a,t,o;return((t=(a=S().props)==null?void 0:a.value)==null?void 0:t.request)||((o=S().props)==null?void 0:o.request)||{}}},props:{dateFilter:{type:Boolean,default:!1},serialColumn:{type:Boolean,default:!0},routeName:{type:String,default:null},topLinks:{type:Boolean,default:!1},bottomLinks:{type:Boolean,default:!0},pageLength:{type:Array,default:[100,50,25,15,10]},varientDateFilter:{type:Object,default:{7:"Last 7 days",15:"Last 15 days",30:"Last 30 days",90:"Last 90 days",180:"Last 180 days",365:"Last 365 days"}},collections:{type:Object,default:{}},filters:{type:Object,default:{}}},created(){Object.entries(this.filters).forEach(([a,t])=>{this.filterData[a]=this.request[a]||""}),this.dateFrom=this.request.from||"",this.dateTo=this.request.to||"",this.search=this.request.search||"",localStorage.setItem("historyOfList",this.route(this.routeName||this.route().current()))},data(){return{perpage:this.collections.meta.per_page,search:"",filterData:{},data:{},dateFrom:"",dateTo:"",valueDateFilter:""}},methods:{searchHandler(){this.data.perpage=this.perpage,Object.entries(this.filterData).forEach(([t,o])=>{this.data[t]=o}),this.data.from=this.dateFrom,this.data.to=this.dateTo,this.data.search=this.search;let a=this.route(this.routeName||this.route().current(),this.clean(this.data));localStorage.setItem("historyOfList",a),this.$inertia.get(a,{},{preserveState:!0})},dateSearchHandler(a){const t=parseInt(a.target.value),o=new Date,y=new Date(o.getTime()-t*24*60*60*1e3);t?(this.dateFrom=`${y.getFullYear()}-${(y.getMonth()+1).toString().padStart(2,"0")}-${y.getDate().toString().padStart(2,"0")}`,this.dateTo=`${o.getFullYear()}-${(o.getMonth()+1).toString().padStart(2,"0")}-${o.getDate().toString().padStart(2,"0")}`):(this.dateFrom="",this.dateTo=""),this.searchHandler()},clean(a){for(var t in a)(a[t]===""||a[t]===null||a[t]===void 0)&&delete a[t];return a}}},M={class:"flex w-full flex-wrap gap-2 py-2"},Y=["onUpdate:modelValue","name"],z={value:"",selected:""},K=["value"],Z={key:0,class:"order-1 ml-auto flex w-full flex-col items-end justify-between gap-2 sm:flex-row lg:order-2 lg:w-auto lg:max-w-xl"},G={class:"flex w-full max-w-sm items-center justify-end gap-1"},J=s("option",{value:""},"Custom Date",-1),Q=["value"],R={class:"flex w-full max-w-sm items-center justify-end gap-1"},W=["max"],X={class:"flex w-full max-w-sm items-center justify-end gap-1"},$=["min"],tt={class:"order-2 flex sm:w-24 lg:order-1"},et=["value"],st={class:"order-4 ml-auto flex w-2/3 max-w-xs lg:order-4 lg:w-auto"},ot={key:0,class:"w-full p-1"},at={class:"relative overflow-auto"},lt={class:"w-full min-w-max table-auto"},rt={class:"bg-brand-600 text-sm uppercase leading-normal text-white"},nt={key:0,class:"bg-brand-600 sticky left-0 py-3 px-2 text-left"},it={class:"bg-white text-sm font-light text-gray-600"},dt={key:0,class:"sticky left-0 bg-white py-3 px-2 text-left"},ct={key:0,class:"border-b border-gray-200 hover:bg-gray-50"},ut=s("td",{colspan:"100",class:"py-3 px-2 text-center text-red-500"}," No data found !! ",-1),ht=[ut],ft={key:1,class:"w-full p-1"};function mt(a,t,o,y,n,i){const x=h("paginator-links");return l(),r(m,null,[s("div",M,[(l(!0),r(m,null,w(o.filters,(e,d)=>(l(),r("div",{class:"order-1 flex w-full sm:w-auto lg:order-2",key:d},[g(s("select",{onChange:t[0]||(t[0]=(...c)=>i.searchHandler&&i.searchHandler(...c)),"onUpdate:modelValue":c=>n.filterData[d]=c,name:d,class:"block w-full shadow-sm focus:outline-none focus:ring-0"},[s("option",z,_(d.replaceAll("_"," ").toLowerCase().replace(/\b[a-z]/g,function(c){return c.toUpperCase()}))+" (All) ",1),(l(!0),r(m,null,w(e,(c,v)=>(l(),r("option",{key:v,value:v},_(c),9,K))),128))],40,Y),[[k,n.filterData[d]]])]))),128)),o.dateFilter?(l(),r("div",Z,[s("div",G,[g(s("select",{onChange:t[1]||(t[1]=(...e)=>i.dateSearchHandler&&i.dateSearchHandler(...e)),"onUpdate:modelValue":t[2]||(t[2]=e=>n.valueDateFilter=e),class:"block w-full min-w-max cursor-pointer shadow-sm focus:outline-none focus:ring-0"},[J,(l(!0),r(m,null,w(o.varientDateFilter,(e,d)=>(l(),r("option",{key:d,value:d},_(e),9,Q))),128))],544),[[k,n.valueDateFilter]])]),s("div",R,[g(s("input",{onInput:t[3]||(t[3]=(...e)=>i.searchHandler&&i.searchHandler(...e)),"onUpdate:modelValue":t[4]||(t[4]=e=>n.dateFrom=e),max:this.dateTo,type:"date",class:"block w-full max-w-xs shadow-sm focus:outline-none focus:ring-0"},null,40,W),[[D,!n.valueDateFilter],[F,n.dateFrom]])]),s("div",X,[g(s("input",{onInput:t[5]||(t[5]=(...e)=>i.searchHandler&&i.searchHandler(...e)),"onUpdate:modelValue":t[6]||(t[6]=e=>n.dateTo=e),min:this.dateFrom,type:"date",class:"block w-full max-w-xs shadow-sm focus:outline-none focus:ring-0"},null,40,$),[[D,!n.valueDateFilter],[F,n.dateTo]])])])):p("",!0),s("div",tt,[g(s("select",{onChange:t[7]||(t[7]=(...e)=>i.searchHandler&&i.searchHandler(...e)),"onUpdate:modelValue":t[8]||(t[8]=e=>n.perpage=e),class:"block w-full cursor-pointer shadow-sm focus:outline-none focus:ring-0"},[(l(!0),r(m,null,w(o.pageLength,e=>(l(),r("option",{key:e,value:e},_(e),9,et))),128))],544),[[k,n.perpage]])]),s("div",st,[g(s("input",{onInput:t[9]||(t[9]=(...e)=>i.searchHandler&&i.searchHandler(...e)),class:"block w-full shadow-sm focus:outline-none focus:ring-0",type:"search","onUpdate:modelValue":t[10]||(t[10]=e=>n.search=e),placeholder:"Search here ..."},null,544),[[F,n.search]])])]),o.collections.meta.total&&o.topLinks?(l(),r("div",ot,[u(x,{collections:o.collections},null,8,["collections"])])):p("",!0),s("div",at,[s("table",lt,[s("thead",null,[s("tr",rt,[o.serialColumn?(l(),r("th",nt," SL ")):p("",!0),L(a.$slots,"head")])]),s("tbody",it,[(l(!0),r(m,null,w(o.collections.data,(e,d)=>(l(),r("tr",{key:d,class:"border-b border-gray-200 hover:bg-gray-50"},[o.serialColumn?(l(),r("td",dt,_(o.collections.meta.from+d),1)):p("",!0),L(a.$slots,"default",{item:e})]))),128)),o.collections.meta.total?p("",!0):(l(),r("tr",ct,ht))])])]),o.collections.meta.total&&o.bottomLinks?(l(),r("div",ft,[u(x,{collections:o.collections},null,8,["collections"])])):p("",!0)],64)}const pt=H(E,[["render",mt]]),_t={components:{AppLayout:C,DataTable:pt,Head:B,Link:V,ActionButtonShow:j,ActionButtonEdit:N,ActionButtonDelete:I,AddNewButton:P},props:{data:{type:Object,default:{}}},computed:{}},gt={class:"py-4"},yt=s("th",{class:"py-3 px-2 text-left"},"Photo",-1),wt=s("th",{class:"py-3 px-2 text-left"},"Title",-1),xt=s("th",{class:"py-3 px-2 text-left"},"Admin",-1),vt=s("th",{class:"py-3 px-2 text-center"},"Action",-1),bt={class:"py-3 px-2 text-left"},kt=["src"],Ft={class:"py-3 px-2 text-left"},St={class:"py-3 px-2 text-left"},Dt={class:"py-2.5 px-2"},Lt={class:"flex justify-center items-center gap-1 md:gap-2"};function Ht(a,t,o,y,n,i){const x=h("Head"),e=h("add-new-button"),d=h("action-button-show"),c=h("action-button-edit"),v=h("action-button-delete"),A=h("data-table"),T=h("app-layout");return l(),r(m,null,[u(x,{title:"Post"}),u(T,null,{header:b(()=>[U(" Post List ")]),default:b(()=>[s("div",gt,[u(e,{href:a.route("posts.create")},null,8,["href"]),u(A,{collections:o.data.posts,filters:o.data.filters},{head:b(()=>[yt,wt,xt,vt]),default:b(({item:f})=>[s("td",bt,[f.imageUrl?(l(),r("img",{key:0,src:f.imageUrl,class:"w-20 aspect-video"},null,8,kt)):p("",!0)]),s("td",Ft,_(f.title),1),s("td",St,_(f.userName),1),s("td",Dt,[s("div",Lt,[u(d,{href:a.route("posts.show",f.id)},null,8,["href"]),u(c,{href:a.route("posts.edit",f.id)},null,8,["href"]),u(v,{href:a.route("posts.destroy",f.id)},null,8,["href"])])])]),_:1},8,["collections","filters"])])]),_:1})],64)}const Et=H(_t,[["render",Ht]]);export{Et as default};
