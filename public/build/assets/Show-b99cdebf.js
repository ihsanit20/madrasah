import{A as j}from"./ApplicationLogo-9fda7697.js";import{A}from"./AvatarView-d45f213f.js";import{P as L}from"./PrintButton-71714fac.js";import{A as O}from"./GridApp-9515ee7b.js";import{o as i,c as n,b as t,t as l,n as x,Z as B,i as $,r as m,a as c,w as P,F as _,g as p,d as y,f as h,e as V}from"./app-13e8b3b3.js";import{L as E}from"./LetterHead-7b870a9e.js";import{_ as v}from"./_plugin-vue_export-helper-c27b6911.js";import{I as H}from"./Input-ed105d19.js";import{B as F}from"./Button-e27a7fc1.js";import"./Index-713a142e.js";import"./Index-55e62843.js";const I={components:{LetterHead:E},props:{data:{type:Object,default:{}},exam:{type:Object,default:{}},seatNo:{type:Number,default:0},bgClorClass:{type:String,default:"bg-gray-200"}}},z={class:"flex justify-center gap-2 text-xs"},D={class:"text-center text-2xl font-extrabold"},M={class:"w-full text-xs"},T={class:"col-span-3 flex gap-2"},Z=t("div",{class:"w-11 text-gray-500"},"নাম",-1),q=t("span",null,":",-1),G={class:"col-span-3 flex gap-2"},J=t("div",{class:"w-11 text-gray-500"},"শ্রেণী",-1),K=t("span",null,":",-1),Q={class:"col-span-2 flex gap-2"},R=t("div",{class:"w-11 text-gray-500"},"রোল",-1),U=t("span",null,":",-1),W={class:"col-span-2 flex gap-2"},X=t("div",{class:"w-11 text-gray-500"},"রেজি. নং",-1),Y=t("span",null,":",-1);function tt(s,o,e,g,d,r){return i(),n("div",{class:x(["px-4 py-4 print:bg-white",e.bgClorClass])},[t("div",z,[t("div",null,l(e.exam.name),1),t("div",null,l(e.exam.session)+" হিজরি",1)]),t("h3",D," আসন নং- "+l(s.$e2bnumber(String(e.seatNo).padStart(3,"0"))),1),t("div",M,[t("div",T,[Z,q,t("div",null,l(e.data.student_name),1)]),t("div",G,[J,K,t("div",null,l(e.data.class_name),1)]),t("div",Q,[R,U,t("div",null,l(s.$e2bnumber(e.data.class_roll)),1)]),t("div",W,[X,Y,t("div",null,l(s.$e2bnumber(e.data.registration)),1)])])],2)}const et=v(I,[["render",tt]]),st={components:{Head:B,Link:$,AppLayout:O,ApplicationLogo:j,AvatarView:A,SeatPlan:et,PrintButton:L,Input:H,Button:F},props:{data:{type:Object,default:{}}},created(){Object.values(this.data.serials).forEach(s=>{this.classNameArray.push(s.class_name)}),this.classNameArray=[...new Set(this.classNameArray)],this.setLimit()},data(){return{classNameArray:[],total:0,limit:[],form:this.$inertia.form({class_ids:[]}),destroy_form:this.$inertia.form({}),bgClors:["bg-red-500/25","bg-yellow-500/25","bg-brand-600/25","bg-brand-500/25","bg-indigo-500/25","bg-brand-600/25","bg-pink-500/25","bg-purple-500/25","bg-teal-500/25","bg-gray-500/25","bg-rose-400/25","bg-brand-400/25","bg-lime-400/25","bg-indigo-400/25","bg-brand-400/25","bg-pink-400/25","bg-purple-400/25","bg-teal-400/25","bg-gray-400/25","bg-red-400/25","bg-yellow-400/25"]}},methods:{submit(){return this.form.post(this.route("seat-plan.store",this.data.exam.id),{onSuccess:()=>{this.form.reset("class_ids"),this.setLimit()}})},changeClass(s){if(s.target.checked)return this.form.class_ids.push(Number(s.target.value));let o=this.form.class_ids.indexOf(s.target.value);return this.form.class_ids.splice(o,1)},destroy(){if(confirm("আপনি কি আসন রিসেট করতে চান?"))return this.destroy_form.delete(this.route("seat-plan.destroy",this.data.exam.id))},getLimit(s){return this.limit[s]},setLimit(){this.limit=[],this.total=0,this.data.seat_plans.forEach(s=>{let o=String(this.total+1).padStart(3,"0");Object.keys(s.seats).forEach(g=>{this.total++});let e=String(this.total).padStart(3,"0");this.limit.push(`${o} - ${e}`)})}}},at={class:"w-full max-w-5xl rounded print:hidden"},it={key:0},nt={class:"grid gap-3 bg-white p-4 md:grid-cols-3"},lt={class:"flex items-center gap-2"},ot={class:"mt-2 flex items-center justify-between"},rt=t("span",{class:"text-sm"}," প্রয়োজনীয় ক্লাস নির্বাচন করুন ও ‘আসন নং তৈরি করুন’ বাটনে ক্লিক করুন ",-1),dt=["disabled"],ct={key:2,class:"mt-2 flex items-center justify-between"},ut=t("div",null,"যে সকল ক্লাসের জন্য আসন নং করা হয়েছে",-1),mt=t("button",{type:"submit",class:"bg-rose-600 py-1 px-3 text-white"}," আসন রিসেট করুন ",-1),_t=[mt],ht={class:"grid gap-2 rounded border bg-white p-4 md:grid-cols-3"},bt={class:"col-span-full"},pt={class:"rounded-md border px-3 py-0.5"},gt=t("hr",{class:"col-span-full"},null,-1),ft={class:"flex items-center gap-2"},yt={class:"grid gap-x-4 gap-y-[28px] print:grid-cols-3 md:grid-cols-3"},xt={class:"w-full max-w-5xl rounded py-6 print:hidden"};function vt(s,o,e,g,d,r){const w=m("Head"),f=m("Input"),k=m("SeatPlan"),N=m("print-button"),S=m("app-layout");return i(),n(_,null,[c(w,{title:"Student"}),c(S,null,{default:P(()=>[t("div",at,[Object.keys(e.data.exam_classes).length?(i(),n("div",it," যে সকল ক্লাসের জন্য আসন নং করা হয় নাই ")):p("",!0),Object.keys(e.data.exam_classes).length?(i(),n("form",{key:1,onSubmit:o[0]||(o[0]=y((...a)=>r.submit&&r.submit(...a),["prevent"])),class:"mb-8"},[t("div",nt,[(i(!0),n(_,null,h(e.data.exam_classes,a=>(i(),n("div",{key:a.id},[t("label",lt,[c(f,{type:"checkbox",onChange:r.changeClass,value:a.id,checked:d.form.class_ids.includes(Number(a.id)||String(a.id))},null,8,["onChange","value","checked"]),t("span",null,l(a.name),1)])]))),128))]),t("div",ot,[rt,t("button",{type:"submit",class:x(["bg-brand-600 py-1 px-3 text-white",{"cursor-not-allowed opacity-50":!d.form.class_ids.length}]),disabled:!d.form.class_ids.length}," আসন নং তৈরি করুন ",10,dt)])],32)):p("",!0),Object.keys(e.data.seat_plans).length?(i(),n("div",ct,[ut,t("form",{onSubmit:o[1]||(o[1]=y((...a)=>r.destroy&&r.destroy(...a),["prevent"]))},_t,32)])):p("",!0),(i(!0),n(_,null,h(e.data.seat_plans,(a,u)=>(i(),n("div",{key:u,class:"py-1"},[t("div",ht,[t("div",bt,[V(" আসন নং "),t("span",pt,l(s.$e2bnumber(r.getLimit(u))),1)]),gt,(i(!0),n(_,null,h(a.classes,b=>(i(),n("div",{key:b},[t("label",ft,[c(f,{type:"checkbox",value:b,checked:!0,disabled:!0,class:"text-brand-600"},null,8,["value"]),t("span",null,l(e.data.classes.find(C=>Number(C.id)==Number(b)).name),1)])]))),128))])]))),128))]),t("div",yt,[(i(!0),n(_,null,h(e.data.serials,(a,u)=>(i(),n("div",{key:u,class:"print:bottom-2 print:border"},[c(k,{data:a,exam:e.data.exam,bgClorClass:d.bgClors[d.classNameArray.indexOf(a.class_name)],seatNo:Number(u)+1},null,8,["data","exam","bgClorClass","seatNo"])]))),128))]),t("div",xt,[c(N)])]),_:1})],64)}const Pt=v(st,[["render",vt]]);export{Pt as default};
