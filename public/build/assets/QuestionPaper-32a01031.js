import{A as U}from"./GridApp-7fc45828.js";import{Z as F,i as B,r as n,o as i,c as u,a as r,w as c,F as g,b as e,t as _,h as y,g as f,f as x,d as H,n as E,e as Q}from"./app-ab311d13.js";import{V as A}from"./ValidationErrors-7e30df70.js";import{B as z}from"./Button-415165b1.js";import{I as M}from"./Input-372a1eaa.js";import{S as K}from"./Select-70604ac4.js";import{F as O}from"./FormGroup-4756c19a.js";import{T as D}from"./Textarea-aa808472.js";import{r as G}from"./ArrowLeftIcon-fa489952.js";import{r as Z}from"./PencilAltIcon-86fbd15e.js";import{r as J}from"./TrashIcon-e9d6bd6e.js";import{I as R}from"./InlineData-312386cb.js";import{P as W}from"./PrintButton-50983bcb.js";import X from"./QuestionPaperHead-bca4d28d.js";import Y from"./QuestionPaperArabicHead-6a158cfd.js";import $ from"./QuestionPaperEnglishHead-98dfa1f3.js";import{_ as ee}from"./_plugin-vue_export-helper-c27b6911.js";import"./Index-717d3e2b.js";import"./ApplicationLogo-0bad1abd.js";import"./Label-aac4f242.js";const te={components:{AppLayout:U,Head:F,Link:B,ValidationErrors:A,Button:z,Input:M,Select:K,FormGroup:O,Textarea:D,TrashIcon:J,PencilAltIcon:Z,ArrowLeftIcon:G,InlineData:R,PrintButton:W,QuestionPaperHead:X,QuestionPaperArabicHead:Y,QuestionPaperEnglishHead:$},props:{data:{type:Object,default:{}}},created(){this.languageList=this.data.languageList,Object.values(this.data.questionPaper.questions).forEach(l=>{this.addQuestionSlot({title:l.title,body:l.body,mark:l.mark})})},data(){return{form:this.$inertia.form({top_text:this.data.questionPaper.top_text,bottom_text:this.data.questionPaper.bottom_text,book_name:this.data.questionPaper.book_name,hour:this.data.questionPaper.hour,minute:this.data.questionPaper.minute,mark:this.data.questionPaper.mark,language_type:this.data.questionPaper.language_type||1,questions:[]}),languageList:[],isEdit:!1}},methods:{submit(){return this.form.post(this.route("question-papers.question-paper",[this.data.questionPaper.exam_id,this.data.questionPaper.class_id,this.data.questionPaper.subject_code]),{onSuccess:()=>{this.isEdit=!1}})},resizeTextarea(l){let s=l.target,d=2;s.style.height="auto",s.style.overflow="hidden",s.style.height=s.scrollHeight+d+"px"},changeClass(){let l=Object.values(this.classList).find(s=>s.id==this.form.class_id);this.subjectList=l?l.subjects:[]},questionFormated(l){return{id:l.id||"",question_paper_id:l.question_paper_id||"",title:l.title||"",body:l.body||"",mark:l.mark||""}},addQuestionSlot(l={}){this.form.questions.push(this.questionFormated(l))},removeQuestionSlot(l){confirm("আপনি কি প্রশ্ন মুছে ফেলতে চান?")&&this.form.questions.splice(l,1)},checkConvert(l){return Number(this.form.language_type)===1?this.$e2bnumber(l):Number(this.form.language_type)===2?this.$e2anumber(l):l}}},oe={class:"w-full max-w-3xl rounded border bg-white px-6 py-6 shadow print:border-0 print:py-0 print:shadow-none"},se={key:0},le={class:"mb-4 flex items-center justify-between print:mb-0 print:hidden"},re=e("span",null,"পূর্বের পেজ",-1),ne=e("span",null,"সম্পাদনা",-1),ae=e("hr",{class:"my-3 print:hidden"},null,-1),ie={class:"text-center text-4xl font-bold",dir:"auto"},de=e("hr",{class:"my-3"},null,-1),ue=e("hr",{class:"my-3"},null,-1),me={class:"mb-2 flex items-center justify-center"},ce={dir:"auto",class:"text-lg font-bold"},pe={class:"grid gap-4"},_e={key:0,class:"w-10"},fe={class:"text-right"},he={class:"grid w-full"},be=["dir","innerHTML"],ge=["dir","innerHTML"],ye={key:1,class:"w-10"},xe={class:"text-right font-bold"},ke={class:"mt-2 flex items-center justify-center"},ve={dir:"auto",class:"text-lg font-bold"},we={class:"grid gap-4 md:grid-cols-5 md:gap-x-8"},Ve=["value"],qe={class:"flex items-center justify-between gap-1"},Pe=e("span",null,"ঘন্টা",-1),je=e("span",null,"মিনিট",-1),Ce={class:"grid gap-4 py-3"},Le={class:"flex w-10 shrink-0 grow-0 flex-col items-center justify-start gap-2"},Te={class:"flex h-10 w-10 items-center justify-center rounded-full bg-white text-xl font-bold"},Ne={class:"flex h-10 w-10 items-center justify-center rounded-full bg-white font-bold"},Ie={class:"grid shrink grow gap-3"},Se={class:"grid w-16 shrink-0 grow-0 gap-3"},Ue={class:"flex justify-end"},Fe={class:"grid gap-4 py-3"},Be=e("hr",{class:"my-4 w-full"},null,-1),He={class:"flex items-center justify-end gap-4"};function Ee(l,s,d,Qe,o,a){const v=n("Head"),w=n("ArrowLeftIcon"),V=n("Link"),q=n("print-button"),P=n("PencilAltIcon"),j=n("question-paper-head"),C=n("question-paper-arabic-head"),L=n("question-paper-english-head"),T=n("Select"),b=n("form-group"),p=n("Input"),N=n("TrashIcon"),k=n("Textarea"),I=n("Button"),S=n("app-layout");return i(),u(g,null,[r(v,{title:"প্রশ্নপত্র"}),r(S,{pageTitle:"প্রশ্নপত্র"},{default:c(()=>[e("div",oe,[o.isEdit?f("",!0):(i(),u("div",se,[e("div",le,[r(V,{href:l.route("question-papers.subjects",[d.data.questionPaper.exam.id,d.data.questionPaper.class.id,d.data.subject.id]),class:"flex items-center justify-center gap-2 rounded-md bg-gray-600 px-4 py-1 text-white"},{default:c(()=>[r(w,{class:"w-5"}),re]),_:1},8,["href"]),r(q),e("button",{type:"button",class:"flex items-center justify-center gap-2 rounded bg-brand-600 px-3 py-1 text-white",onClick:s[0]||(s[0]=t=>o.isEdit=!0)},[r(P,{class:"w-5"}),ne])]),ae,e("div",ie,_(d.data.madrasahName[o.form.language_type]),1),de,Number(o.form.language_type)===1?(i(),y(j,{key:0,data:d.data},null,8,["data"])):f("",!0),Number(o.form.language_type)===2?(i(),y(C,{key:1,data:d.data},null,8,["data"])):f("",!0),Number(o.form.language_type)===3?(i(),y(L,{key:2,data:d.data},null,8,["data"])):f("",!0),ue,e("div",me,[e("div",ce,_(d.data.questionPaper.top_text),1)]),e("div",pe,[(i(!0),u(g,null,x(this.data.questionPaper.questions,(t,m)=>(i(),u("div",{key:m,class:"flex items-start"},[Number(o.form.language_type)===2?(i(),u("div",_e,[e("div",fe,_(a.checkConvert(t.mark)),1)])):f("",!0),e("div",he,[e("div",{dir:Number(o.form.language_type)===2?"rtl":"ltr",class:"font-bold",innerHTML:a.checkConvert(m+1)+". "+a.checkConvert(t.title)},null,8,be),e("div",{dir:Number(o.form.language_type)===2?"rtl":"ltr",class:"whitespace-pre-wrap px-5 font-normal",innerHTML:a.checkConvert(t.body)},null,8,ge)]),Number(o.form.language_type)!==2?(i(),u("div",ye,[e("div",xe,_(a.checkConvert(t.mark)),1)])):f("",!0)]))),128))]),e("div",ke,[e("div",ve,_(d.data.questionPaper.bottom_text),1)])])),o.isEdit?(i(),u("form",{key:1,onSubmit:s[10]||(s[10]=H((...t)=>a.submit&&a.submit(...t),["prevent"])),class:"space-y-4 print:hidden"},[e("div",we,[r(b,{class:"md:col-span-2",label:"প্রশ্নের ভাষা"},{default:c(()=>[r(T,{class:"block w-full",modelValue:o.form.language_type,"onUpdate:modelValue":s[1]||(s[1]=t=>o.form.language_type=t),required:""},{default:c(()=>[(i(!0),u(g,null,x(o.languageList,(t,m)=>(i(),u("option",{key:m,value:m},_(t),9,Ve))),128))]),_:1},8,["modelValue"])]),_:1}),r(b,{class:"md:col-span-3",label:`কিতাব : ${d.data.subject.book}`},{default:c(()=>[r(p,{type:"text",class:"block w-full",modelValue:o.form.book_name,"onUpdate:modelValue":s[2]||(s[2]=t=>o.form.book_name=t),placeholder:"কিতাবের নাম (যদি প্রয়োজন হয়)"},null,8,["modelValue"])]),_:1},8,["label"]),r(b,{class:"md:col-span-2",label:"সময়",required:!0},{default:c(()=>[e("div",qe,[r(p,{type:"number",class:"block w-full text-center",modelValue:o.form.hour,"onUpdate:modelValue":s[3]||(s[3]=t=>o.form.hour=t),required:""},null,8,["modelValue"]),Pe,r(p,{type:"number",class:"ml-2 block w-full text-center",modelValue:o.form.minute,"onUpdate:modelValue":s[4]||(s[4]=t=>o.form.minute=t),required:""},null,8,["modelValue"]),je])]),_:1}),r(b,{class:"col-span-1 col-end-6",label:"পূর্নমান"},{default:c(()=>[r(p,{type:"number",class:"block w-full text-center",modelValue:o.form.mark,"onUpdate:modelValue":s[5]||(s[5]=t=>o.form.mark=t),required:""},null,8,["modelValue"])]),_:1})]),e("div",Ce,[r(p,{type:"text",class:"block w-full text-center",modelValue:o.form.top_text,"onUpdate:modelValue":s[6]||(s[6]=t=>o.form.top_text=t),placeholder:"প্রশ্নের উপরের লেখা (যেমন: যেকোন ৫টি প্রশ্নের উত্তর দাও)"},null,8,["modelValue"])]),(i(!0),u(g,null,x(this.form.questions,(t,m)=>(i(),u("div",{key:m,class:"flex gap-3 rounded bg-gray-200 p-3"},[e("div",Le,[e("div",Te,_(m+1),1),e("div",Ne,[r(N,{onClick:h=>a.removeQuestionSlot(m),class:"w-7 cursor-pointer text-rose-600"},null,8,["onClick"])])]),e("div",Ie,[r(k,{dir:Number(o.form.language_type)===2?"rtl":"ltr",class:"block w-full resize-none text-sm font-bold md:text-lg",modelValue:t.title,"onUpdate:modelValue":h=>t.title=h,onKeyup:a.resizeTextarea,onFocus:a.resizeTextarea,placeholder:"প্রশ্ন/প্রশ্নের শিরোনাম (Bold Font)"},null,8,["dir","modelValue","onUpdate:modelValue","onKeyup","onFocus"]),r(k,{dir:Number(o.form.language_type)===2?"rtl":"ltr",class:"block w-full resize-none text-sm font-normal md:text-lg",modelValue:t.body,"onUpdate:modelValue":h=>t.body=h,onKeyup:a.resizeTextarea,onFocus:a.resizeTextarea,placeholder:"প্রশ্ন/প্যারাগ্রাফ (Normal Font)"},null,8,["dir","modelValue","onUpdate:modelValue","onKeyup","onFocus"])]),e("div",Se,[e("div",null,[r(p,{type:"number",class:"block w-full text-center",modelValue:t.mark,"onUpdate:modelValue":h=>t.mark=h,required:"",placeholder:"মান"},null,8,["modelValue","onUpdate:modelValue"])])])]))),128)),e("div",Ue,[e("button",{type:"button",class:"rounded-lg bg-brand-500 px-4 py-2 text-sm font-bold text-white",onClick:s[7]||(s[7]=(...t)=>a.addQuestionSlot&&a.addQuestionSlot(...t))}," প্রশ্ন যোগ করুন ")]),e("div",Fe,[r(p,{type:"text",class:"block w-full text-center",modelValue:o.form.bottom_text,"onUpdate:modelValue":s[8]||(s[8]=t=>o.form.bottom_text=t),placeholder:"প্রশ্নের নিচের লেখা (যেমন: সুন্দর হস্তাক্ষরের জন্য ৪ নম্বর)"},null,8,["modelValue"])]),Be,e("div",He,[e("button",{type:"button",class:"rounded-md bg-gray-500 px-4 py-2 text-base font-semibold uppercase tracking-widest text-white",onClick:s[9]||(s[9]=t=>o.isEdit=!1)}," Cancel "),r(I,{class:E(["",{"opacity-25":o.form.processing}]),disabled:o.form.processing},{default:c(()=>[Q(" Save ")]),_:1},8,["class","disabled"])])],32)):f("",!0)])]),_:1})],64)}const nt=ee(te,[["render",Ee]]);export{nt as default};
