import{Z as k,r as a,o as m,c,a as o,w as n,F as f,b as r,e as p,d as w,f as x,t as D,g as h,h as I}from"./app-a7f62443.js";import{A as S}from"./Master-9dede8e7.js";import{F as v}from"./FormGroup-08297dd3.js";import{S as C}from"./Select-0e60ebb8.js";import{I as N}from"./Input-41b528ec.js";import{B as R}from"./Button-2fbf7fff.js";import{L as O}from"./Label-4a8a478c.js";import{_ as B}from"./_plugin-vue_export-helper-c27b6911.js";import"./Index-781fcae9.js";import"./ApplicationLogo-bf7d8203.js";const H={components:{Head:k,AppLayout:S,FormGroup:v,Select:C,Input:N,Button:R,Label:O},props:{data:{type:Object,default:{}}},computed:{isValided(){return!!(this.form.type==="new"||this.form.type==="old"&&this.form.student)}},created(){this.registrationHandler()},data(){return{form:this.$inertia.form({student:"",type:""}),classId:"",roll:"",studentName:"",registration:""}},methods:{submit(){if(this.form.type==="new"&&delete this.form.student,this.isValided)return this.form.get(this.route("page.admission-form"))},registrationHandler(){this.resetDuringRegistrationSelect(),this.resetCommonData();let e=Object.values(this.data.admissions).filter(t=>t.student.registration==this.registration)[0];e&&(this.setCommonData(e),this.setDuringRegistrationSelect(e))},classOrRollHandler(){this.resetDuringclassOrRollSelect(),this.resetCommonData();let e=null;this.classId&&this.roll&&(e=Object.values(this.data.admissions).filter(t=>t.class_id==this.classId&&t.roll==this.roll)[0]),e&&(this.setCommonData(e),this.setDuringclassOrRollSelect(e))},setCommonData(e){this.form.admission=e.id,this.studentName=e.student.name,this.form.student=e.student.id},setDuringRegistrationSelect(e){this.roll=e.roll,this.classId=e.class_id},setDuringclassOrRollSelect(e){this.registration=e.student.registration},resetCommonData(){this.form.admission="",this.studentName="",this.form.student=""},resetDuringRegistrationSelect(){this.roll="",this.classId=""},resetDuringclassOrRollSelect(){this.registration=""}}},F={class:"w-full max-w-lg rounded border bg-white p-4 shadow mx-auto mt-5"},L=r("h2",{class:"mb-2 text-center text-2xl font-bold text-brand-600 print:text-black"}," ভর্তি আবেদন ",-1),j={class:"flex items-center justify-center gap-8"},A={key:0,class:"grid gap-4 md:grid-cols-3"},U=r("option",{value:""},"-- নির্বাচন করুন --",-1),q=["value"],G={class:"mt-4 flex items-center justify-end"};function E(e,t,g,M,l,i){const _=a("Head"),d=a("Input"),b=a("Select"),u=a("FormGroup"),y=a("Button"),V=a("AppLayout");return m(),c(f,null,[o(_,{title:"ভর্তি আবেদন"}),o(V,null,{default:n(()=>[r("div",F,[L,r("div",j,[r("label",null,[o(d,{type:"radio",name:"admission_type",checked:l.form.type==="new",onClick:t[0]||(t[0]=s=>l.form.type="new")},null,8,["checked"]),p(" নতুন ভর্তি ")]),r("label",null,[o(d,{type:"radio",name:"admission_type",checked:l.form.type==="old",onClick:t[1]||(t[1]=s=>l.form.type="old")},null,8,["checked"]),p(" পুরাতন ভর্তি ")])]),r("form",{onSubmit:t[6]||(t[6]=w((...s)=>i.submit&&i.submit(...s),["prevent"])),class:""},[l.form.type==="old"?(m(),c("div",A,[o(u,{class:"col-span-2",label:"ক্লাস"},{default:n(()=>[o(b,{class:"block w-full",modelValue:l.classId,"onUpdate:modelValue":t[2]||(t[2]=s=>l.classId=s),onChange:i.classOrRollHandler,required:""},{default:n(()=>[U,(m(!0),c(f,null,x(g.data.classes,s=>(m(),c("option",{key:s.id,value:s.id},D(s.name),9,q))),128))]),_:1},8,["modelValue","onChange"])]),_:1}),o(u,{class:"",label:"রোল"},{default:n(()=>[o(d,{class:"block w-full",type:"Number",modelValue:l.roll,"onUpdate:modelValue":t[3]||(t[3]=s=>l.roll=s),onInput:i.classOrRollHandler,required:""},null,8,["modelValue","onInput"])]),_:1}),o(u,{class:"col-span-2",label:"শিক্ষার্থীর নাম"},{default:n(()=>[o(d,{class:"block w-full",type:"text",disabled:"",modelValue:l.studentName,"onUpdate:modelValue":t[4]||(t[4]=s=>l.studentName=s)},null,8,["modelValue"])]),_:1}),o(u,{class:"",label:"রেজি. নং"},{default:n(()=>[o(d,{class:"block w-full",type:"Number",modelValue:l.registration,"onUpdate:modelValue":t[5]||(t[5]=s=>l.registration=s),onInput:i.registrationHandler,required:""},null,8,["modelValue","onInput"])]),_:1})])):h("",!0),r("div",G,[i.isValided?(m(),I(y,{key:0,type:"submit"},{default:n(()=>[p(" পরবর্তী ধাপ → ")]),_:1})):h("",!0)])],32)])]),_:1})],64)}const $=B(H,[["render",E]]);export{$ as default};
