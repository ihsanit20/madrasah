import{A as C}from"./GridApp-08130bf5.js";import{K as B,r as v,o as r,c as n,b as l,F as m,f as p,j as w,x as D,t as u,q as T,y as H,g as _,a as c,n as F,k as L,Z as A,i as N,w as f,e as x}from"./app-e5df54b3.js";import{L as O}from"./Label-cd566793.js";import{P as V}from"./PaginatorLinks-b240c633.js";import{_ as S}from"./_plugin-vue_export-helper-c27b6911.js";import{A as j}from"./ActionButtonShow-dfd3d38f.js";import{A as q}from"./ActionButtonEdit-5aeb4fa9.js";import{A as M}from"./AddNewButton-0a15c6d1.js";import{T as U}from"./TableTd-146c987c.js";import"./Index-e1f92848.js";import"./ApplicationLogo-a509505a.js";import"./Index-1fa27d70.js";const I={components:{PaginatorLinks:V,Label:O},computed:{request(){var s,e;return(e=(s=B().props)==null?void 0:s.value)==null?void 0:e.request}},props:{dateFilter:{type:Boolean,default:!1},serialColumn:{type:Boolean,default:!0},latest:{type:Boolean,default:!1},routeName:{type:String,default:null},topLinks:{type:Boolean,default:!1},bottomLinks:{type:Boolean,default:!0},pageLength:{type:Array,default:[100,50,25,15,10]},varientDateFilter:{type:Object,default:{7:"Last 7 days",15:"Last 15 days",30:"Last 30 days",90:"Last 90 days",180:"Last 180 days",365:"Last 365 days"}},collections:{type:Object,default:{}},filters:{type:Object,default:{}},columns:{type:Array,default:[]}},created(){Object.entries(this.filters).forEach(([s,e])=>{this.filterData[s]=this.request[s]||""}),this.dateFrom=this.request.from||"",this.dateTo=this.request.to||"",this.search=this.request.search||"",this.sortNewToOld=this.request.order=="desc"?!0:this.latest,localStorage.setItem("historyOfList",this.route(this.routeName||this.route().current()))},data(){return{perpage:this.collections.meta.per_page,search:"",filterData:{},data:{},dateFrom:"",dateTo:"",valueDateFilter:"",sortDirection:"",sort:""}},methods:{searchHandler(){this.data.perpage=this.perpage,Object.entries(this.filterData).forEach(([e,o])=>{this.data[e]=o}),this.data.from=this.dateFrom,this.data.to=this.dateTo,this.data.sort=this.sort,this.data.order=this.sortDirection,this.data.search=this.search;let s=this.route(this.routeName||this.route().current(),this.clean(this.data));localStorage.setItem("historyOfList",s),this.$inertia.get(s,{},{preserveState:!0})},dateSearchHandler(s){const e=parseInt(s.target.value),o=new Date,y=new Date(o.getTime()-e*24*60*60*1e3);e?(this.dateFrom=`${y.getFullYear()}-${(y.getMonth()+1).toString().padStart(2,"0")}-${y.getDate().toString().padStart(2,"0")}`,this.dateTo=`${o.getFullYear()}-${(o.getMonth()+1).toString().padStart(2,"0")}-${o.getDate().toString().padStart(2,"0")}`):(this.dateFrom="",this.dateTo=""),this.searchHandler()},clean(s){for(var e in s)(s[e]===""||s[e]===null||s[e]===void 0)&&delete s[e];return s},sortHandler(s){this.sortDirection=this.sort==s&&this.sortDirection=="asc"?"desc":"asc",this.sort=s,this.sortNewToOld=this.sortDirection=="desc",this.searchHandler()},sortDirectionHandler(){this.sortDirection=this.sortDirection=="asc"?"desc":"asc",this.sortNewToOld=this.sortDirection=="desc",this.searchHandler()}}},E={class:"flex w-full flex-wrap gap-2 py-2"},z=["onUpdate:modelValue","name"],K={value:"",selected:""},P=["value"],Y={key:0,class:"order-1 ml-auto flex w-full flex-col items-end justify-between gap-2 sm:flex-row lg:order-2 lg:w-auto lg:max-w-xl"},Z={class:"flex w-full max-w-sm items-center justify-end gap-1"},G=l("option",{value:""},"Custom Date",-1),J=["value"],Q={class:"flex w-full max-w-sm items-center justify-end gap-1"},R=["max"],W={class:"flex w-full max-w-sm items-center justify-end gap-1"},X=["min"],$={class:"order-2 flex sm:w-24 lg:order-1"},tt=["value"],et={class:"order-4 ml-auto flex w-2/3 max-w-xs lg:order-4 lg:w-auto"},st={key:0,class:"w-full p-1"},lt={class:"relative w-full overflow-auto"},ot={class:"w-full min-w-max table-auto"},at={class:"bg-brand-600 text-sm uppercase leading-normal text-white"},rt={key:0,class:"bg-brand-600 sticky left-0 py-3 px-2 text-left"},nt={class:"inline-flex items-center gap-1"},it=l("div",null,"SL",-1),dt=l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 9l4-4 4 4m0 6l-4 4-4-4"})],-1),ct=[dt],ut={class:"inline-flex items-center gap-1"},ht=["innerHTML"],ft=["onClick"],mt=l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 9l4-4 4 4m0 6l-4 4-4-4"})],-1),gt=[mt],_t={class:"bg-white text-sm font-light text-gray-600"},pt={key:0,class:"sticky left-0 bg-white py-3 px-2 text-left"},wt={key:0,class:"border-b border-gray-200 hover:bg-gray-50"},xt=l("td",{colspan:"100",class:"py-3 px-2 text-center text-red-500"}," No data found !! ",-1),vt=[xt],yt={key:1,class:"w-full p-1"};function bt(s,e,o,y,i,d){const b=v("paginator-links");return r(),n(m,null,[l("div",E,[(r(!0),n(m,null,p(o.filters,(t,a)=>(r(),n("div",{class:"order-1 flex w-full sm:w-auto lg:order-2",key:a},[w(l("select",{onChange:e[0]||(e[0]=(...h)=>d.searchHandler&&d.searchHandler(...h)),"onUpdate:modelValue":h=>i.filterData[a]=h,name:a,class:"block w-full rounded-md shadow-sm focus:outline-none focus:ring-0"},[l("option",K,u(a.replaceAll("_"," ").toLowerCase().replace(/\b[a-z]/g,function(h){return h.toUpperCase()}))+" (All) ",1),(r(!0),n(m,null,p(t,(h,k)=>(r(),n("option",{key:k,value:k},u(h),9,P))),128))],40,z),[[D,i.filterData[a]]])]))),128)),o.dateFilter?(r(),n("div",Y,[l("div",Z,[w(l("select",{onChange:e[1]||(e[1]=(...t)=>d.dateSearchHandler&&d.dateSearchHandler(...t)),"onUpdate:modelValue":e[2]||(e[2]=t=>i.valueDateFilter=t),class:"block w-full min-w-max cursor-pointer rounded-md shadow-sm focus:outline-none focus:ring-0"},[G,(r(!0),n(m,null,p(o.varientDateFilter,(t,a)=>(r(),n("option",{key:a,value:a},u(t),9,J))),128))],544),[[D,i.valueDateFilter]])]),l("div",Q,[w(l("input",{onInput:e[3]||(e[3]=(...t)=>d.searchHandler&&d.searchHandler(...t)),"onUpdate:modelValue":e[4]||(e[4]=t=>i.dateFrom=t),max:this.dateTo,type:"date",class:"block w-full max-w-xs rounded-md shadow-sm focus:outline-none focus:ring-0"},null,40,R),[[T,!i.valueDateFilter],[H,i.dateFrom]])]),l("div",W,[w(l("input",{onInput:e[5]||(e[5]=(...t)=>d.searchHandler&&d.searchHandler(...t)),"onUpdate:modelValue":e[6]||(e[6]=t=>i.dateTo=t),min:this.dateFrom,type:"date",class:"block w-full max-w-xs rounded-md shadow-sm focus:outline-none focus:ring-0"},null,40,X),[[T,!i.valueDateFilter],[H,i.dateTo]])])])):_("",!0),l("div",$,[w(l("select",{onChange:e[7]||(e[7]=(...t)=>d.searchHandler&&d.searchHandler(...t)),"onUpdate:modelValue":e[8]||(e[8]=t=>i.perpage=t),class:"block w-full cursor-pointer rounded-md shadow-sm focus:outline-none focus:ring-0"},[(r(!0),n(m,null,p(o.pageLength,t=>(r(),n("option",{key:t,value:t},u(t),9,tt))),128))],544),[[D,i.perpage]])]),l("div",et,[w(l("input",{onInput:e[9]||(e[9]=(...t)=>d.searchHandler&&d.searchHandler(...t)),class:"block w-full rounded-md shadow-sm focus:outline-none focus:ring-0",type:"search","onUpdate:modelValue":e[10]||(e[10]=t=>i.search=t),placeholder:"Search here ..."},null,544),[[H,i.search]])])]),o.collections.meta.total&&o.topLinks?(r(),n("div",st,[c(b,{collections:o.collections},null,8,["collections"])])):_("",!0),l("div",lt,[l("table",ot,[l("thead",null,[l("tr",at,[o.serialColumn?(r(),n("th",rt,[l("div",nt,[it,l("div",{class:"flex cursor-pointer flex-col",onClick:e[11]||(e[11]=(...t)=>d.sortDirectionHandler&&d.sortDirectionHandler(...t))},ct)])])):_("",!0),(r(!0),n(m,null,p(o.columns,(t,a)=>(r(),n("th",{key:a,class:F(["bg-brand-600 py-3 px-2",{"text-left":t.align=="left","text-center":t.align=="center","text-right":t.align=="right"}])},[l("div",ut,[l("div",{innerHTML:t.title},null,8,ht),t.sortable?(r(),n("div",{key:0,class:F(["flex cursor-pointer flex-col",{"text-gray-900":t.sortable!=this.sort}]),onClick:h=>d.sortHandler(t.sortable)},gt,10,ft)):_("",!0)])],2))),128)),L(s.$slots,"head")])]),l("tbody",_t,[(r(!0),n(m,null,p(o.collections.data,(t,a)=>(r(),n("tr",{key:a,class:"border-b border-gray-200 hover:bg-gray-50"},[o.serialColumn?(r(),n("td",pt,u(s.sortNewToOld?o.collections.meta.total+1-(o.collections.meta.from+a):o.collections.meta.from+a),1)):_("",!0),L(s.$slots,"default",{item:t})]))),128)),o.collections.meta.total?_("",!0):(r(),n("tr",wt,vt))])])]),o.collections.meta.total&&o.bottomLinks?(r(),n("div",yt,[c(b,{collections:o.collections},null,8,["collections"])])):_("",!0)],64)}const kt=S(I,[["render",bt]]),Dt={components:{AppLayout:C,SimpleTable:kt,Head:A,Link:N,ActionButtonShow:j,ActionButtonEdit:q,AddNewButton:M,TableTd:U},props:{data:{type:Object,default:{}}},data(){return{columns:[{title:"রশিদ নং",align:"left"},{title:"শিক্ষার্থী",align:"left"},{title:"রোল",align:"left"},{title:"ক্লাস",align:"left"},{title:"বাবদ",align:"left"},{title:"জমা",align:"right"}]}}};function Ht(s,e,o,y,i,d){const b=v("Head"),t=v("Link"),a=v("table-td"),h=v("simple-table"),k=v("app-layout");return r(),n(m,null,[c(b,{title:"টাকা জমার রশিদ"}),c(k,{pageTitle:"টাকা জমার রশিদ"},{default:f(()=>[c(h,{collections:o.data.collections,filters:o.data.filters,columns:i.columns,serialColumn:!1},{default:f(({item:g})=>[c(a,{class:"text-left"},{default:f(()=>[c(t,{href:s.route("payments.show",g.id),class:"text-brand-600 hover:underline"},{default:f(()=>[x(u(s.$e2bnumber(g.id)),1)]),_:2},1032,["href"])]),_:2},1024),c(a,{class:"text-left"},{default:f(()=>[x(u(g.admission.studentName),1)]),_:2},1024),c(a,{class:"text-left"},{default:f(()=>[x(u(s.$e2bnumber(g.admission.roll)),1)]),_:2},1024),c(a,{class:"text-left"},{default:f(()=>[x(u(g.admission.className),1)]),_:2},1024),c(a,{class:"text-left"},{default:f(()=>[x(u(g.purposeText),1)]),_:2},1024),c(a,{class:"text-right"},{default:f(()=>[x(u(s.$e2bnumber(g.paid))+" TK ",1)]),_:2},1024)]),_:1},8,["collections","filters","columns"])]),_:1})],64)}const Mt=S(Dt,[["render",Ht]]);export{Mt as default};
