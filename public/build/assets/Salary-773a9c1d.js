import{i as w,r as l,o as p,c as g,b as t,a as e,w as s,h as y,n as S,g as V,d as k,e as _}from"./app-1f940f79.js";import{V as B}from"./ValidationErrors-ed265807.js";import{B as I}from"./Button-b7d894d7.js";import{I as N}from"./Input-ee5e6198.js";import{S as j}from"./Select-d3f5c780.js";import{F as C}from"./FormSlotGroup-e074e2f5.js";import{T as F}from"./Textarea-8d4445a0.js";import{I as U}from"./InlineData-6429c258.js";import{F as L}from"./FormGroup-45eeee14.js";import{_ as M}from"./_plugin-vue_export-helper-c27b6911.js";import"./TrashIcon-03182b03.js";import"./PlusCircleIcon-1748507b.js";import"./Label-1e01e898.js";const T={components:{Link:w,ValidationErrors:B,Button:I,Input:N,Select:j,FormSlotGroup:C,Textarea:F,InlineData:U,FormGroup:L},props:{buttonValue:{type:String,default:"Save"},data:{type:Object,default:{}}},computed:{totalSalary(){let r=this.form.default_salaries.reduce(function(i,a){return i+parseInt(a.amount||0)},0);return isNaN(r)?0:r}},created(){this.form.default_salaries=this.data.staff.default_salaries??[]},data(){return{form:this.$inertia.form({step:"salary",default_salaries:[]})}},methods:{addSalarySlot(){this.form.default_salaries.push({title:"",amount:""})},submit(){return this.form.put(this.route("staff-form.update",this.data.staff.id))}}},q={class:"w-full max-w-xl rounded border bg-white p-4 shadow"},E=t("h3",{class:"text-center text-2xl font-bold text-brand-600"}," বেতন নির্ধারণ ",-1),G={class:"grid md:grid-cols-2"},z=t("hr",{class:"my-3"},null,-1),D={class:"flex gap-4"},O=t("div",{class:"flex items-center"},[t("label",{class:"flex-shrink flex-grow bg-white px-2 font-bold line-clamp-1"}," বেতন বিবরণ "),t("label",{class:"w-28 flex-shrink-0 flex-grow-0 bg-white px-2 font-bold line-clamp-1"}," পরিমাণ ")],-1),A=t("hr",{class:"my-4 w-full"},null,-1),H={class:"flex items-center justify-between print:hidden"};function J(r,i,a,K,d,u){const n=l("inline-data"),h=l("validation-errors"),m=l("Input"),c=l("form-group"),b=l("form-slot-group"),x=l("Link"),v=l("Button");return p(),g("div",q,[E,t("div",G,[e(n,{title:"নাম:",value:a.data.staff.name},null,8,["value"]),e(n,{class:"justify-end",title:"ফোন:",value:a.data.staff.phone},null,8,["value"]),e(n,{title:"পদ:",value:a.data.staff.designation_title},null,8,["value"]),e(n,{class:"justify-end",title:"প্রত্যাশা:",value:a.data.staff.expected_salary},null,8,["value"]),e(n,{class:"justify-center col-span-full",title:"মোট বেতন:",value:r.$e2bnumber(u.totalSalary)},null,8,["value"])]),z,e(h,{class:"mb-4"}),t("form",{onSubmit:i[0]||(i[0]=k((...o)=>u.submit&&u.submit(...o),["prevent"])),class:""},[t("div",D,[e(b,{collections:d.form.default_salaries,addSlotMethod:u.addSalarySlot,class:"w-full"},{header:s(()=>[O]),default:s(({item:o})=>[e(c,{class:"w-full flex-shrink flex-grow"},{default:s(()=>[e(m,{type:"text",class:"block w-full",modelValue:o.title,"onUpdate:modelValue":f=>o.title=f,required:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(c,{class:"w-20 flex-shrink-0 flex-grow-0"},{default:s(()=>[e(m,{type:"number",class:"block w-full text-center",modelValue:o.amount,"onUpdate:modelValue":f=>o.amount=f,required:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:1},8,["collections","addSlotMethod"])]),A,t("div",H,[e(x,{href:r.route("staff-form.show",a.data.staff.id),class:"rounded-md border border-brand-600 px-4 py-2 font-semibold text-brand-600 hover:bg-brand-700 hover:text-white"},{default:s(()=>[_(" ← পূর্ববর্তী ধাপ ")]),_:1},8,["href"]),d.form.default_salaries.length?(p(),y(v,{key:0,class:S({"opacity-25":d.form.processing}),disabled:d.form.processing},{default:s(()=>[_(" Save & পরবর্তী ধাপ → ")]),_:1},8,["class","disabled"])):V("",!0)])],32)])}const se=M(T,[["render",J]]);export{se as default};
